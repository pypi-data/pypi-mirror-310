# -*- mode: sh; -*-

env_name=$(cat .python-virtualenv)

if [ -z "$env_name" ]; then
  echo "No defined virtual environment name"
  exit 1
fi

if [ -z "$MAMBA_EXE" ]; then
  export MAMBA_EXE="$(command -v micromamba)"
  if [ -z "$MAMBA_EXE" ]; then
    echo "Cannot find micromamba"
    exit 1
  fi
fi
eval "$("$MAMBA_EXE" shell activate -s bash "$env_name")"

export PYTHONPATH="$(pwd):$PYTHONPATH"

export PYLINTRC=/home/soraxas/.config/direnv/pylintrc_only_error

# for fixing rtree
export SPATIALINDEX_C_LIBRARY=/usr/local/lib/libspatialindex.so.6
