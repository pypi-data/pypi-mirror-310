[tox]
minversion = 4.11
envlist = py311
requires =
    tox-extras >= 0.0.2

[testenv]
package = editable
setenv =
    TOXINIDIR = {toxinidir}
    VIRTUALENV_PIP = 23.3.1

[testenv:build]
description =
    Build the package in isolation.
deps =
    build == 1.0.3
skip_install = True
changedir = {toxinidir}
commands =
    python -m build

[testenv:publish]
description =
    Publish the package you have been developing to a package index server.
deps =
    twine == 4.0.2
    importlib_metadata == 7.2.1
skip_install = True
changedir = {toxinidir}
passenv =l
    TWINE_USERNAME
    TWINE_PASSWORD
    TWINE_REPOSITORY_URL
commands =
    python -m twine check dist/*
    ; python -m twine upload --verbose dist/*
