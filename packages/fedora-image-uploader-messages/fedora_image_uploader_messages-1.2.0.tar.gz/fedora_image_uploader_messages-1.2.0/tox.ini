[tox]
envlist = format,flake8,py3{8,9,10,11,12,13}
isolated_build = True

[testenv]
deps =
    .[test]
sitepackages = False
skip_install = True
commands_pre =
    pip install --upgrade pip
commands =
    coverage erase
    coverage run -m pytest -vv tests/ {posargs}
    coverage report -m
    coverage xml
    coverage html

[testenv:format]
deps =
    black
    isort
commands =
    black --check .
    isort --check .

[testenv:flake8]
deps =
    flake8
commands =
    flake8 .

[flake8]
max-line-length = 100
