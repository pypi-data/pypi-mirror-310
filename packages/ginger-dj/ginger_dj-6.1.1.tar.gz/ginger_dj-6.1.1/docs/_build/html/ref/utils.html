<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Validators" href="validators.html" /><link rel="prev" title="gingerdj.urls functions for use in URLconfs" href="urls.html" />
        <link rel="canonical" href="https://www.gingersociety.org/products/ginger-dj/docs/ref/utils.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>GingerDJ Utils - GingerDJ 6.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d10597a4" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../contents.html"><div class="brand">GingerDJ 6.1.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../contents.html">
  
  
  <span class="sidebar-brand-text">GingerDJ 6.1.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">GingerDJ documentation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../intro/index.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Getting started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/overview.html">GingerDJ at a glance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/install.html">Quick install guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial01.html">Writing your first GingerDJ app, part 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial02.html">Writing your first GingerDJ app, part 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial03.html">Writing your first GingerDJ app, part 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial04.html">Writing your first GingerDJ app, part 4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial05.html">Writing your first GingerDJ app, part 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial06.html">Writing your first GingerDJ app, part 6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial07.html">Writing your first GingerDJ app, part 7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial08.html">Writing your first GingerDJ app, part 8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/reusable-apps.html">Advanced tutorial: How to write reusable apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/whatsnext.html">What to read next</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../topics/index.html">Using GingerDJ</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Using GingerDJ</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../topics/install.html">How to install GingerDJ</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../topics/db/index.html">Models and databases</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Models and databases</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/models.html">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/queries.html">Making queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/aggregation.html">Aggregation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/search.html">Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/managers.html">Managers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/sql.html">Performing raw SQL queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/transactions.html">Database transactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/multi-db.html">Multiple databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/tablespaces.html">Tablespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/optimization.html">Database access optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/instrumentation.html">Database instrumentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/db/fixtures.html">Fixtures</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../topics/db/examples/index.html">Examples of model relationship API usage</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Examples of model relationship API usage</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../topics/db/examples/many_to_many.html">Many-to-many relationships</a></li>
<li class="toctree-l4"><a class="reference internal" href="../topics/db/examples/many_to_one.html">Many-to-one relationships</a></li>
<li class="toctree-l4"><a class="reference internal" href="../topics/db/examples/one_to_one.html">One-to-one relationships</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../topics/http/index.html">Handling HTTP requests</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Handling HTTP requests</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../topics/http/urls.html">URL dispatcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/http/views.html">Writing views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/http/decorators.html">View decorators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/http/file-uploads.html">File Uploads</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/http/shortcuts.html">GingerDJ shortcut functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/http/generic-views.html">Generic views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/http/middleware.html">Middleware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/http/sessions.html">How to use sessions</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../topics/forms/index.html">Working with forms</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Working with forms</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../topics/forms/formsets.html">Formsets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/forms/modelforms.html">Creating forms from models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/forms/media.html">Form Assets (the <code class="docutils literal notranslate"><span class="pre">Media</span></code> class)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../topics/templates.html">Templates</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../topics/class-based-views/index.html">Class-based views</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Class-based views</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../topics/class-based-views/intro.html">Introduction to class-based views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/class-based-views/generic-display.html">Built-in class-based generic views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/class-based-views/generic-editing.html">Form handling with class-based views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/class-based-views/mixins.html">Using mixins with class-based views</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../topics/migrations.html">Migrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/files.html">Managing files</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../topics/testing/index.html">Testing in GingerDJ</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Testing in GingerDJ</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../topics/testing/overview.html">Writing and running tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/testing/tools.html">Testing tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/testing/advanced.html">Advanced testing topics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../topics/cache.html">GingerDJ’s cache framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/conditional-view-processing.html">Conditional View Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/signing.html">Cryptographic signing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/email.html">Sending email</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../topics/i18n/index.html">Internationalization and localization</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Internationalization and localization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../topics/i18n/translation.html">Translation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/i18n/formatting.html">Format localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/i18n/timezones.html">Time zones</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../topics/logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/pagination.html">Pagination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/security.html">Security in GingerDJ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/performance.html">Performance and optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/serialization.html">Serializing GingerDJ objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/settings.html">GingerDJ settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/signals.html">Signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/checks.html">System check framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/external-packages.html">External packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/async.html">Asynchronous support</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../howto/index.html">“How-to” guides</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of “How-to” guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../howto/csrf.html">How to use GingerDJ’s CSRF protection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/custom-management-commands.html">How to create custom <code class="docutils literal notranslate"><span class="pre">gingerdj-admin</span></code> commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/custom-model-fields.html">How to create custom model fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/custom-lookups.html">How to write custom lookups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/custom-template-backend.html">How to implement a custom template backend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/custom-template-tags.html">How to create custom template tags and filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/custom-file-storage.html">How to write a custom storage class</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../howto/deployment/index.html">How to deploy GingerDJ</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of How to deploy GingerDJ</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../howto/deployment/wsgi/index.html">How to deploy with WSGI</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of How to deploy with WSGI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../howto/deployment/wsgi/gunicorn.html">How to use GingerDJ with Gunicorn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../howto/deployment/wsgi/uwsgi.html">How to use GingerDJ with uWSGI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../howto/deployment/wsgi/modwsgi.html">How to use GingerDJ with Apache and <code class="docutils literal notranslate"><span class="pre">mod_wsgi</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../howto/deployment/asgi/index.html">How to deploy with ASGI</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of How to deploy with ASGI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../howto/deployment/asgi/daphne.html">How to use GingerDJ with Daphne</a></li>
<li class="toctree-l4"><a class="reference internal" href="../howto/deployment/asgi/hypercorn.html">How to use GingerDJ with Hypercorn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../howto/deployment/asgi/uvicorn.html">How to use GingerDJ with Uvicorn</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../howto/deployment/checklist.html">Deployment checklist</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../howto/upgrade-version.html">How to upgrade GingerDJ to a newer version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/error-reporting.html">How to manage error reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/initial-data.html">How to provide initial data for models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/legacy-databases.html">How to integrate GingerDJ with a legacy database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/logging.html">How to configure and use logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/outputting-csv.html">How to create CSV output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/outputting-pdf.html">How to create PDF files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/overriding-templates.html">How to override templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/static-files/index.html">How to manage static files (e.g. images, JavaScript, CSS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/static-files/deployment.html">How to deploy static files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/windows.html">How to install GingerDJ on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/writing-migrations.html">How to create database migrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/delete-app.html">How to delete a GingerDJ application</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../faq/index.html">GingerDJ FAQ</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of GingerDJ FAQ</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../faq/general.html">FAQ: General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/install.html">FAQ: Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/usage.html">FAQ: Using GingerDJ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/models.html">FAQ: Databases and models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/admin.html">FAQ: The admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="applications.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="checks.html">System check framework</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="class-based-views/index.html">Built-in class-based views API</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Built-in class-based views API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="class-based-views/base.html">Base views</a></li>
<li class="toctree-l3"><a class="reference internal" href="class-based-views/generic-display.html">Generic display views</a></li>
<li class="toctree-l3"><a class="reference internal" href="class-based-views/generic-editing.html">Generic editing views</a></li>
<li class="toctree-l3"><a class="reference internal" href="class-based-views/generic-date-based.html">Generic date views</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="class-based-views/mixins.html">Class-based views mixins</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Class-based views mixins</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="class-based-views/mixins-simple.html">Simple mixins</a></li>
<li class="toctree-l4"><a class="reference internal" href="class-based-views/mixins-single-object.html">Single object mixins</a></li>
<li class="toctree-l4"><a class="reference internal" href="class-based-views/mixins-multiple-object.html">Multiple object mixins</a></li>
<li class="toctree-l4"><a class="reference internal" href="class-based-views/mixins-editing.html">Editing mixins</a></li>
<li class="toctree-l4"><a class="reference internal" href="class-based-views/mixins-date-based.html">Date-based mixins</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="class-based-views/flattened-index.html">Class-based generic views - flattened index</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="clickjacking.html">Clickjacking Protection</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="contrib/index.html"><code class="docutils literal notranslate"><span class="pre">contrib</span></code> packages</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of contrib packages</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="contrib/admin/index.html">The GingerDJ admin site</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of The GingerDJ admin site</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="contrib/admin/actions.html">Admin actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/admin/filters.html"><code class="docutils literal notranslate"><span class="pre">ModelAdmin</span></code> List Filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/admin/admindocs.html">The GingerDJ admin documentation generator</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/admin/javascript.html">JavaScript customizations in the admin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="contrib/flatpages.html">The flatpages app</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="contrib/gis/index.html">GeoGinger</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of GeoGinger</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/tutorial.html">GeoGinger Tutorial</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="contrib/gis/install/index.html">GeoGinger Installation</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of GeoGinger Installation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="contrib/gis/install/geolibs.html">Installing Geospatial libraries</a></li>
<li class="toctree-l5"><a class="reference internal" href="contrib/gis/install/postgis.html">Installing PostGIS</a></li>
<li class="toctree-l5"><a class="reference internal" href="contrib/gis/install/spatialite.html">Installing SpatiaLite</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/model-api.html">GeoGinger Model API</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/db-api.html">GeoGinger Database API</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/forms-api.html">GeoGinger Forms API</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/geoquerysets.html">GIS QuerySet API Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/functions.html">Geographic Database Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/measure.html">Measurement Objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/geos.html">GEOS API</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/gdal.html">GDAL API</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/geoip2.html">Geolocation with GeoIP2</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="contrib/gis/utils.html">GeoGinger Utilities</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of GeoGinger Utilities</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="contrib/gis/layermapping.html"><code class="docutils literal notranslate"><span class="pre">LayerMapping</span></code> data import utility</a></li>
<li class="toctree-l5"><a class="reference internal" href="contrib/gis/ogrinspect.html">OGR Inspection</a></li>
<li class="toctree-l5"><a class="reference internal" href="contrib/gis/serializers.html"><code class="docutils literal notranslate"><span class="pre">GeoJSON</span></code> Serializer</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/commands.html">GeoGinger Management Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/admin.html">GeoGinger’s admin site</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/feeds.html">Geographic Feeds</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/sitemaps.html">Geographic Sitemaps</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/testing.html">Testing GeoGinger apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/gis/deployment.html">Deploying GeoGinger</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="contrib/humanize.html"><code class="docutils literal notranslate"><span class="pre">gingerdj.contrib.humanize</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="contrib/messages.html">The messages framework</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="contrib/postgres/index.html"><code class="docutils literal notranslate"><span class="pre">gingerdj.contrib.postgres</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of gingerdj.contrib.postgres</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/aggregates.html">PostgreSQL specific aggregation functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/constraints.html">PostgreSQL specific database constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/expressions.html">PostgreSQL specific query expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/fields.html">PostgreSQL specific model fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/forms.html">PostgreSQL specific form fields and widgets</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/functions.html">PostgreSQL specific database functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/indexes.html">PostgreSQL specific model indexes</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/lookups.html">PostgreSQL specific lookups</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/operations.html">Database migration operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/search.html">Full text search</a></li>
<li class="toctree-l4"><a class="reference internal" href="contrib/postgres/validators.html">Validators</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="contrib/redirects.html">The redirects app</a></li>
<li class="toctree-l3"><a class="reference internal" href="contrib/sitemaps.html">The sitemap framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="contrib/sites.html">The “sites” framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="contrib/staticfiles.html">The <code class="docutils literal notranslate"><span class="pre">staticfiles</span></code> app</a></li>
<li class="toctree-l3"><a class="reference internal" href="contrib/syndication.html">The syndication feed framework</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="csrf.html">Cross Site Request Forgery protection</a></li>
<li class="toctree-l2"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="gingerdj-admin.html"><code class="docutils literal notranslate"><span class="pre">gingerdj-admin</span></code> and <code class="docutils literal notranslate"><span class="pre">manage.py</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="gingerdj-admin.html#running-management-commands-from-your-code">Running management commands from your code</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">GingerDJ Exceptions</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="files/index.html">File handling</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of File handling</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="files/file.html">The <code class="docutils literal notranslate"><span class="pre">File</span></code> object</a></li>
<li class="toctree-l3"><a class="reference internal" href="files/storage.html">File storage API</a></li>
<li class="toctree-l3"><a class="reference internal" href="files/uploads.html">Uploaded Files and Upload Handlers</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="forms/index.html">Forms</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Forms</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="forms/api.html">The Forms API</a></li>
<li class="toctree-l3"><a class="reference internal" href="forms/fields.html">Form fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="forms/models.html">Model Form Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="forms/formsets.html">Formset Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="forms/renderers.html">The form rendering API</a></li>
<li class="toctree-l3"><a class="reference internal" href="forms/widgets.html">Widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="forms/validation.html">Form and field validation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="middleware.html">Middleware</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration-operations.html">Migration Operations</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="models/index.html">Models</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="models/fields.html">Model field reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/fields.html#field-attribute-reference">Field attribute reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/indexes.html">Model index reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/constraints.html">Constraints reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/meta.html">Model <code class="docutils literal notranslate"><span class="pre">_meta</span></code> API</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/relations.html">Related objects reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/class.html">Model class reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/options.html">Model <code class="docutils literal notranslate"><span class="pre">Meta</span></code> options</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/instances.html">Model instance reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/querysets.html"><code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> API reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/lookups.html">Lookup API reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/expressions.html">Query Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/conditional-expressions.html">Conditional Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="models/database-functions.html">Database Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="paginator.html">Paginator</a></li>
<li class="toctree-l2"><a class="reference internal" href="request-response.html">Request and response objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="schema-editor.html"><code class="docutils literal notranslate"><span class="pre">SchemaEditor</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="signals.html">Signals</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="templates/index.html">Templates</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Templates</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="templates/language.html">The GingerDJ template language</a></li>
<li class="toctree-l3"><a class="reference internal" href="templates/builtins.html">Built-in template tags and filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="templates/api.html">The GingerDJ template language: for Python programmers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="template-response.html"><code class="docutils literal notranslate"><span class="pre">TemplateResponse</span></code> and <code class="docutils literal notranslate"><span class="pre">SimpleTemplateResponse</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="unicode.html">Unicode data</a></li>
<li class="toctree-l2"><a class="reference internal" href="urlresolvers.html"><code class="docutils literal notranslate"><span class="pre">gingerdj.urls</span></code> utility functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="urls.html"><code class="docutils literal notranslate"><span class="pre">gingerdj.urls</span></code> functions for use in URLconfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="urls.html#module-gingerdj.conf.urls"><code class="docutils literal notranslate"><span class="pre">gingerdj.conf.urls</span></code> functions for use in URLconfs</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">GingerDJ Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="validators.html">Validators</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html">Built-in Views</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../misc/index.html">Meta-documentation and miscellany</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Meta-documentation and miscellany</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../misc/api-stability.html">API stability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/design-philosophies.html">Design philosophies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/ref/utils.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="s-module-gingerdj.utils">
<span id="s-gingerdj-utils"></span><span id="module-gingerdj.utils"></span><span id="gingerdj-utils"></span><h1>GingerDJ Utils<a class="headerlink" href="#module-gingerdj.utils" title="Link to this heading">¶</a></h1>
<p>This document covers all stable modules in <code class="docutils literal notranslate"><span class="pre">gingerdj.utils</span></code>. Most of the
modules in <code class="docutils literal notranslate"><span class="pre">gingerdj.utils</span></code> are designed for internal use and only the
following parts can be considered stable.</p>
<section id="s-module-gingerdj.utils.cache">
<span id="s-gingerdj-utils-cache"></span><span id="module-gingerdj.utils.cache"></span><span id="gingerdj-utils-cache"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.cache</span></code><a class="headerlink" href="#module-gingerdj.utils.cache" title="Link to this heading">¶</a></h2>
<p>This module contains helper functions for controlling HTTP caching. It does so
by managing the <code class="docutils literal notranslate"><span class="pre">Vary</span></code> header of responses. It includes functions to patch
the header of response objects directly and decorators that change functions to
do that header-patching themselves.</p>
<p>For information on the <code class="docutils literal notranslate"><span class="pre">Vary</span></code> header, see <span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-12.5.5"><strong>RFC 9110 Section 12.5.5</strong></a>.</p>
<p>Essentially, the <code class="docutils literal notranslate"><span class="pre">Vary</span></code> HTTP header defines which headers a cache should take
into account when building its cache key. Requests with the same path but
different header content for headers named in <code class="docutils literal notranslate"><span class="pre">Vary</span></code> need to get different
cache keys to prevent delivery of wrong content.</p>
<p>For example, <a class="reference internal" href="../topics/i18n/index.html"><span class="doc">internationalization</span></a> middleware would
need to distinguish caches by the <code class="docutils literal notranslate"><span class="pre">Accept-language</span></code> header.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.cache.patch_cache_control">
<span class="sig-name descname"><span class="pre">patch_cache_control</span></span>(<em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="headerlink" href="#gingerdj.utils.cache.patch_cache_control" title="Link to this definition">¶</a></dt>
<dd><p>This function patches the <code class="docutils literal notranslate"><span class="pre">Cache-Control</span></code> header by adding all keyword
arguments to it. The transformation is as follows:</p>
<ul class="simple">
<li><p>All keyword parameter names are turned to lowercase, and underscores
are converted to hyphens.</p></li>
<li><p>If the value of a parameter is <code class="docutils literal notranslate"><span class="pre">True</span></code> (exactly <code class="docutils literal notranslate"><span class="pre">True</span></code>, not just a
true value), only the parameter name is added to the header.</p></li>
<li><p>All other parameters are added with their value, after applying
<code class="docutils literal notranslate"><span class="pre">str()</span></code> to it.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.cache.get_max_age">
<span class="sig-name descname"><span class="pre">get_max_age</span></span>(<em class="sig-param"><span class="n"><span class="pre">response</span></span></em>)<a class="headerlink" href="#gingerdj.utils.cache.get_max_age" title="Link to this definition">¶</a></dt>
<dd><p>Returns the max-age from the response Cache-Control header as an integer
(or <code class="docutils literal notranslate"><span class="pre">None</span></code> if it wasn’t found or wasn’t an integer).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.cache.patch_response_headers">
<span class="sig-name descname"><span class="pre">patch_response_headers</span></span>(<em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#gingerdj.utils.cache.patch_response_headers" title="Link to this definition">¶</a></dt>
<dd><p>Adds some useful headers to the given <code class="docutils literal notranslate"><span class="pre">HttpResponse</span></code> object:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Expires</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cache-Control</span></code></p></li>
</ul>
<p>Each header is only added if it isn’t already set.</p>
<p><code class="docutils literal notranslate"><span class="pre">cache_timeout</span></code> is in seconds. The <a class="reference internal" href="settings.html#std-setting-CACHE_MIDDLEWARE_SECONDS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CACHE_MIDDLEWARE_SECONDS</span></code></a>
setting is used by default.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.cache.add_never_cache_headers">
<span class="sig-name descname"><span class="pre">add_never_cache_headers</span></span>(<em class="sig-param"><span class="n"><span class="pre">response</span></span></em>)<a class="headerlink" href="#gingerdj.utils.cache.add_never_cache_headers" title="Link to this definition">¶</a></dt>
<dd><p>Adds an <code class="docutils literal notranslate"><span class="pre">Expires</span></code> header to the current date/time.</p>
<p>Adds a <code class="docutils literal notranslate"><span class="pre">Cache-Control:</span> <span class="pre">max-age=0,</span> <span class="pre">no-cache,</span> <span class="pre">no-store,</span> <span class="pre">must-revalidate,</span>
<span class="pre">private</span></code> header to a response to indicate that a page should never be
cached.</p>
<p>Each header is only added if it isn’t already set.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.cache.patch_vary_headers">
<span class="sig-name descname"><span class="pre">patch_vary_headers</span></span>(<em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newheaders</span></span></em>)<a class="headerlink" href="#gingerdj.utils.cache.patch_vary_headers" title="Link to this definition">¶</a></dt>
<dd><p>Adds (or updates) the <code class="docutils literal notranslate"><span class="pre">Vary</span></code> header in the given <code class="docutils literal notranslate"><span class="pre">HttpResponse</span></code> object.
<code class="docutils literal notranslate"><span class="pre">newheaders</span></code> is a list of header names that should be in <code class="docutils literal notranslate"><span class="pre">Vary</span></code>. If
headers contains an asterisk, then <code class="docutils literal notranslate"><span class="pre">Vary</span></code> header will consist of a single
asterisk <code class="docutils literal notranslate"><span class="pre">'*'</span></code>, according to <span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-12.5.5"><strong>RFC 9110 Section 12.5.5</strong></a>. Otherwise,
existing headers in <code class="docutils literal notranslate"><span class="pre">Vary</span></code> aren’t removed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.cache.get_cache_key">
<span class="sig-name descname"><span class="pre">get_cache_key</span></span>(<em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GET'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#gingerdj.utils.cache.get_cache_key" title="Link to this definition">¶</a></dt>
<dd><p>Returns a cache key based on the request path. It can be used in the
request phase because it pulls the list of headers to take into account
from the global path registry and uses those to build a cache key to
check against.</p>
<p>If there is no headerlist stored, the page needs to be rebuilt, so this
function returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.cache.learn_cache_key">
<span class="sig-name descname"><span class="pre">learn_cache_key</span></span>(<em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#gingerdj.utils.cache.learn_cache_key" title="Link to this definition">¶</a></dt>
<dd><p>Learns what headers to take into account for some request path from the
response object. It stores those headers in a global path registry so that
later access to that path will know what headers to take into account
without building the response object itself. The headers are named in
the <code class="docutils literal notranslate"><span class="pre">Vary</span></code> header of the response, but we want to prevent response
generation.</p>
<p>The list of headers to use for cache key generation is stored in the same
cache as the pages themselves. If the cache ages some data out of the
cache, this means that we have to build the response once to get at the
Vary header and so at the list of headers to use for the cache key.</p>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.dateparse">
<span id="s-gingerdj-utils-dateparse"></span><span id="module-gingerdj.utils.dateparse"></span><span id="gingerdj-utils-dateparse"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.dateparse</span></code><a class="headerlink" href="#module-gingerdj.utils.dateparse" title="Link to this heading">¶</a></h2>
<p>The functions defined in this module share the following properties:</p>
<ul class="simple">
<li><p>They accept strings in ISO 8601 date/time formats (or some close
alternatives) and return objects from the corresponding classes in Python’s
<a class="reference external" href="https://docs.python.org/3/library/datetime.html#module-datetime" title="(in Python v3.13)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">datetime</span></code></a> module.</p></li>
<li><p>They raise <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> if their input is well formatted but isn’t a
valid date or time.</p></li>
<li><p>They return <code class="docutils literal notranslate"><span class="pre">None</span></code> if it isn’t well formatted at all.</p></li>
<li><p>They accept up to picosecond resolution in input, but they truncate it to
microseconds, since that’s what Python supports.</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.dateparse.parse_date">
<span class="sig-name descname"><span class="pre">parse_date</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.utils.dateparse.parse_date" title="Link to this definition">¶</a></dt>
<dd><p>Parses a string and returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.date</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.dateparse.parse_time">
<span class="sig-name descname"><span class="pre">parse_time</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.utils.dateparse.parse_time" title="Link to this definition">¶</a></dt>
<dd><p>Parses a string and returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.time" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.time</span></code></a>.</p>
<p>UTC offsets aren’t supported; if <code class="docutils literal notranslate"><span class="pre">value</span></code> describes one, the result is
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.dateparse.parse_datetime">
<span class="sig-name descname"><span class="pre">parse_datetime</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.utils.dateparse.parse_datetime" title="Link to this definition">¶</a></dt>
<dd><p>Parses a string and returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>.</p>
<p>UTC offsets are supported; if <code class="docutils literal notranslate"><span class="pre">value</span></code> describes one, the result’s
<code class="docutils literal notranslate"><span class="pre">tzinfo</span></code> attribute is a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timezone" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timezone</span></code></a> instance.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.dateparse.parse_duration">
<span class="sig-name descname"><span class="pre">parse_duration</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.utils.dateparse.parse_duration" title="Link to this definition">¶</a></dt>
<dd><p>Parses a string and returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a>.</p>
<p>Expects data in the format <code class="docutils literal notranslate"><span class="pre">&quot;DD</span> <span class="pre">HH:MM:SS.uuuuuu&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;DD</span> <span class="pre">HH:MM:SS,uuuuuu&quot;</span></code>,  or as specified by ISO 8601 (e.g.
<code class="docutils literal notranslate"><span class="pre">P4DT1H15M20S</span></code> which is equivalent to <code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">1:15:20</span></code>) or PostgreSQL’s
day-time interval format (e.g. <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">days</span> <span class="pre">04:05:06</span></code>).</p>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.decorators">
<span id="s-gingerdj-utils-decorators"></span><span id="module-gingerdj.utils.decorators"></span><span id="gingerdj-utils-decorators"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.decorators</span></code><a class="headerlink" href="#module-gingerdj.utils.decorators" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.decorators.method_decorator">
<span class="sig-name descname"><span class="pre">method_decorator</span></span>(<em class="sig-param"><span class="n"><span class="pre">decorator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>)<a class="headerlink" href="#gingerdj.utils.decorators.method_decorator" title="Link to this definition">¶</a></dt>
<dd><p>Converts a function decorator into a method decorator. It can be used to
decorate methods or classes; in the latter case, <code class="docutils literal notranslate"><span class="pre">name</span></code> is the name
of the method to be decorated and is required.</p>
<p><code class="docutils literal notranslate"><span class="pre">decorator</span></code> may also be a list or tuple of functions. They are wrapped
in reverse order so that the call order is the order in which the functions
appear in the list/tuple.</p>
<p>See <a class="reference internal" href="../topics/class-based-views/intro.html#id1"><span class="std std-ref">decorating class based views</span></a> for
example usage.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.decorators.decorator_from_middleware">
<span class="sig-name descname"><span class="pre">decorator_from_middleware</span></span>(<em class="sig-param"><span class="n"><span class="pre">middleware_class</span></span></em>)<a class="headerlink" href="#gingerdj.utils.decorators.decorator_from_middleware" title="Link to this definition">¶</a></dt>
<dd><p>Given a middleware class, returns a view decorator. This lets you use
middleware functionality on a per-view basis. The middleware is created
with no params passed.</p>
<p>It assumes middleware that’s compatible with the old style of GingerDJ 1.9
and earlier (having methods like <code class="docutils literal notranslate"><span class="pre">process_request()</span></code>,
<code class="docutils literal notranslate"><span class="pre">process_exception()</span></code>, and <code class="docutils literal notranslate"><span class="pre">process_response()</span></code>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.decorators.decorator_from_middleware_with_args">
<span class="sig-name descname"><span class="pre">decorator_from_middleware_with_args</span></span>(<em class="sig-param"><span class="n"><span class="pre">middleware_class</span></span></em>)<a class="headerlink" href="#gingerdj.utils.decorators.decorator_from_middleware_with_args" title="Link to this definition">¶</a></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">decorator_from_middleware</span></code>, but returns a function
that accepts the arguments to be passed to the middleware_class.
For example, the <a class="reference internal" href="../topics/cache.html#gingerdj.views.decorators.cache.cache_page" title="gingerdj.views.decorators.cache.cache_page"><code class="xref py py-func docutils literal notranslate"><span class="pre">cache_page()</span></code></a>
decorator is created from the <code class="docutils literal notranslate"><span class="pre">CacheMiddleware</span></code> like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cache_page</span> <span class="o">=</span> <span class="n">decorator_from_middleware_with_args</span><span class="p">(</span><span class="n">CacheMiddleware</span><span class="p">)</span>


<span class="nd">@cache_page</span><span class="p">(</span><span class="mi">3600</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.decorators.sync_only_middleware">
<span class="sig-name descname"><span class="pre">sync_only_middleware</span></span>(<em class="sig-param"><span class="n"><span class="pre">middleware</span></span></em>)<a class="headerlink" href="#gingerdj.utils.decorators.sync_only_middleware" title="Link to this definition">¶</a></dt>
<dd><p>Marks a middleware as <a class="reference internal" href="../topics/http/middleware.html#async-middleware"><span class="std std-ref">synchronous-only</span></a>. (The
default in GingerDJ, but this allows you to future-proof if the default ever
changes in a future release.)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.decorators.async_only_middleware">
<span class="sig-name descname"><span class="pre">async_only_middleware</span></span>(<em class="sig-param"><span class="n"><span class="pre">middleware</span></span></em>)<a class="headerlink" href="#gingerdj.utils.decorators.async_only_middleware" title="Link to this definition">¶</a></dt>
<dd><p>Marks a middleware as <a class="reference internal" href="../topics/http/middleware.html#async-middleware"><span class="std std-ref">asynchronous-only</span></a>. GingerDJ
will wrap it in an asynchronous event loop when it is called from the WSGI
request path.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.decorators.sync_and_async_middleware">
<span class="sig-name descname"><span class="pre">sync_and_async_middleware</span></span>(<em class="sig-param"><span class="n"><span class="pre">middleware</span></span></em>)<a class="headerlink" href="#gingerdj.utils.decorators.sync_and_async_middleware" title="Link to this definition">¶</a></dt>
<dd><p>Marks a middleware as <a class="reference internal" href="../topics/http/middleware.html#async-middleware"><span class="std std-ref">sync and async compatible</span></a>,
this allows to avoid converting requests. You must implement detection of
the current request type to use this decorator. See <a class="reference internal" href="../topics/http/middleware.html#async-middleware"><span class="std std-ref">asynchronous
middleware documentation</span></a> for details.</p>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.encoding">
<span id="s-gingerdj-utils-encoding"></span><span id="module-gingerdj.utils.encoding"></span><span id="gingerdj-utils-encoding"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.encoding</span></code><a class="headerlink" href="#module-gingerdj.utils.encoding" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.encoding.smart_str">
<span class="sig-name descname"><span class="pre">smart_str</span></span>(<em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strings_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/encoding.html#smart_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.encoding.smart_str" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <code class="docutils literal notranslate"><span class="pre">str</span></code> object representing arbitrary object <code class="docutils literal notranslate"><span class="pre">s</span></code>. Treats
bytestrings using the <code class="docutils literal notranslate"><span class="pre">encoding</span></code> codec.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">strings_only</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, don’t convert (some) non-string-like
objects.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.encoding.is_protected_type">
<span class="sig-name descname"><span class="pre">is_protected_type</span></span>(<em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/encoding.html#is_protected_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.encoding.is_protected_type" title="Link to this definition">¶</a></dt>
<dd><p>Determine if the object instance is of a protected type.</p>
<p>Objects of protected types are preserved as-is when passed to
<code class="docutils literal notranslate"><span class="pre">force_str(strings_only=True)</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.encoding.force_str">
<span class="sig-name descname"><span class="pre">force_str</span></span>(<em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strings_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/encoding.html#force_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.encoding.force_str" title="Link to this definition">¶</a></dt>
<dd><p>Similar to <code class="docutils literal notranslate"><span class="pre">smart_str()</span></code>, except that lazy instances are resolved to
strings, rather than kept as lazy objects.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">strings_only</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, don’t convert (some) non-string-like
objects.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.encoding.smart_bytes">
<span class="sig-name descname"><span class="pre">smart_bytes</span></span>(<em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strings_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/encoding.html#smart_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.encoding.smart_bytes" title="Link to this definition">¶</a></dt>
<dd><p>Returns a bytestring version of arbitrary object <code class="docutils literal notranslate"><span class="pre">s</span></code>, encoded as
specified in <code class="docutils literal notranslate"><span class="pre">encoding</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">strings_only</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, don’t convert (some) non-string-like
objects.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.encoding.force_bytes">
<span class="sig-name descname"><span class="pre">force_bytes</span></span>(<em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strings_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/encoding.html#force_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.encoding.force_bytes" title="Link to this definition">¶</a></dt>
<dd><p>Similar to <code class="docutils literal notranslate"><span class="pre">smart_bytes</span></code>, except that lazy instances are resolved to
bytestrings, rather than kept as lazy objects.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">strings_only</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, don’t convert (some) non-string-like
objects.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.encoding.iri_to_uri">
<span class="sig-name descname"><span class="pre">iri_to_uri</span></span>(<em class="sig-param"><span class="n"><span class="pre">iri</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/encoding.html#iri_to_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.encoding.iri_to_uri" title="Link to this definition">¶</a></dt>
<dd><p>Convert an Internationalized Resource Identifier (IRI) portion to a URI
portion that is suitable for inclusion in a URL.</p>
<p>This is the algorithm from section 3.1 of <span class="target" id="index-2"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3987.html#section-3.1"><strong>RFC 3987 Section 3.1</strong></a>, slightly
simplified since the input is assumed to be a string rather than an
arbitrary byte stream.</p>
<p>Takes an IRI (string or UTF-8 bytes) and returns a string containing the
encoded result.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.encoding.uri_to_iri">
<span class="sig-name descname"><span class="pre">uri_to_iri</span></span>(<em class="sig-param"><span class="n"><span class="pre">uri</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/encoding.html#uri_to_iri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.encoding.uri_to_iri" title="Link to this definition">¶</a></dt>
<dd><p>Converts a Uniform Resource Identifier into an Internationalized Resource
Identifier.</p>
<p>This is an algorithm from section 3.2 of <span class="target" id="index-3"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3987.html#section-3.2"><strong>RFC 3987 Section 3.2</strong></a>.</p>
<p>Takes a URI in ASCII bytes and returns a string containing the encoded
result.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.encoding.filepath_to_uri">
<span class="sig-name descname"><span class="pre">filepath_to_uri</span></span>(<em class="sig-param"><span class="n"><span class="pre">path</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/encoding.html#filepath_to_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.encoding.filepath_to_uri" title="Link to this definition">¶</a></dt>
<dd><p>Convert a file system path to a URI portion that is suitable for inclusion
in a URL. The path is assumed to be either UTF-8 bytes, string, or a
<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>.</p>
<p>This method will encode certain characters that would normally be
recognized as special characters for URIs.  Note that this method does not
encode the ‘ character, as it is a valid character within URIs. See
<code class="docutils literal notranslate"><span class="pre">encodeURIComponent()</span></code> JavaScript function for more details.</p>
<p>Returns an ASCII string containing the encoded result.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.encoding.escape_uri_path">
<span class="sig-name descname"><span class="pre">escape_uri_path</span></span>(<em class="sig-param"><span class="n"><span class="pre">path</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/encoding.html#escape_uri_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.encoding.escape_uri_path" title="Link to this definition">¶</a></dt>
<dd><p>Escapes the unsafe characters from the path portion of a Uniform Resource
Identifier (URI).</p>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.feedgenerator">
<span id="s-gingerdj-utils-feedgenerator"></span><span id="module-gingerdj.utils.feedgenerator"></span><span id="gingerdj-utils-feedgenerator"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.feedgenerator</span></code><a class="headerlink" href="#module-gingerdj.utils.feedgenerator" title="Link to this heading">¶</a></h2>
<p>Sample usage:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gingerdj.utils</span> <span class="kn">import</span> <span class="n">feedgenerator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feed</span> <span class="o">=</span> <span class="n">feedgenerator</span><span class="o">.</span><span class="n">Rss201rev2Feed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Poynter E-Media Tidbits&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">link</span><span class="o">=</span><span class="s2">&quot;https://www.poynter.org/tag/e-media-tidbits/&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A group blog by the sharpest minds in online media/journalism/publishing.&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">language</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feed</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">link</span><span class="o">=</span><span class="s2">&quot;https://www.holovaty.com/test/&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Testing.&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;test.rss&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">feed</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>For simplifying the selection of a generator use <code class="docutils literal notranslate"><span class="pre">feedgenerator.DefaultFeed</span></code>
which is currently <code class="docutils literal notranslate"><span class="pre">Rss201rev2Feed</span></code></p>
<p>For definitions of the different versions of RSS, see:
<a class="reference external" href="https://web.archive.org/web/20110718035220/http://diveintomark.org/archives/2004/02/04/incompatible-rss">https://web.archive.org/web/20110718035220/http://diveintomark.org/archives/2004/02/04/incompatible-rss</a></p>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.get_tag_uri">
<span class="sig-name descname"><span class="pre">get_tag_uri</span></span>(<em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#get_tag_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.get_tag_uri" title="Link to this definition">¶</a></dt>
<dd><p>Creates a TagURI.</p>
<p>See <a class="reference external" href="https://web.archive.org/web/20110514113830/http://diveintomark.org/archives/2004/05/28/howto-atom-id">https://web.archive.org/web/20110514113830/http://diveintomark.org/archives/2004/05/28/howto-atom-id</a></p>
</dd></dl>

<section id="s-syndicationfeed">
<span id="syndicationfeed"></span><h3><code class="docutils literal notranslate"><span class="pre">SyndicationFeed</span></code><a class="headerlink" href="#syndicationfeed" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SyndicationFeed</span></span><a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed" title="Link to this definition">¶</a></dt>
<dd><p>Base class for all syndication feeds. Subclasses should provide
<code class="docutils literal notranslate"><span class="pre">write()</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span>(<em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author_email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author_link</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subtitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_copyright</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_guid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the feed with the given dictionary of metadata, which applies
to the entire feed.</p>
<p>Any extra keyword arguments you pass to <code class="docutils literal notranslate"><span class="pre">__init__</span></code> will be stored in
<code class="docutils literal notranslate"><span class="pre">self.feed</span></code>.</p>
<p>All parameters should be strings, except <code class="docutils literal notranslate"><span class="pre">categories</span></code>, which should
be a sequence of strings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed.add_item">
<span class="sig-name descname"><span class="pre">add_item</span></span>(<em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author_email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author_link</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pubdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_copyright</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">updateddate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enclosures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed.add_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed.add_item" title="Link to this definition">¶</a></dt>
<dd><p>Adds an item to the feed. All args are expected to be strings except
<code class="docutils literal notranslate"><span class="pre">pubdate</span></code> and <code class="docutils literal notranslate"><span class="pre">updateddate</span></code>, which are <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>
objects, and <code class="docutils literal notranslate"><span class="pre">enclosures</span></code>, which is a list of <code class="docutils literal notranslate"><span class="pre">Enclosure</span></code> instances.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed.num_items">
<span class="sig-name descname"><span class="pre">num_items</span></span>()<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed.num_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed.num_items" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed.root_attributes">
<span class="sig-name descname"><span class="pre">root_attributes</span></span>()<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed.root_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed.root_attributes" title="Link to this definition">¶</a></dt>
<dd><p>Return extra attributes to place on the root (i.e. feed/channel)
element. Called from <code class="docutils literal notranslate"><span class="pre">write()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed.add_root_elements">
<span class="sig-name descname"><span class="pre">add_root_elements</span></span>(<em class="sig-param"><span class="n"><span class="pre">handler</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed.add_root_elements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed.add_root_elements" title="Link to this definition">¶</a></dt>
<dd><p>Add elements in the root (i.e. feed/channel) element.
Called from <code class="docutils literal notranslate"><span class="pre">write()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed.item_attributes">
<span class="sig-name descname"><span class="pre">item_attributes</span></span>(<em class="sig-param"><span class="n"><span class="pre">item</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed.item_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed.item_attributes" title="Link to this definition">¶</a></dt>
<dd><p>Return extra attributes to place on each item (i.e. item/entry)
element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed.add_item_elements">
<span class="sig-name descname"><span class="pre">add_item_elements</span></span>(<em class="sig-param"><span class="n"><span class="pre">handler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed.add_item_elements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed.add_item_elements" title="Link to this definition">¶</a></dt>
<dd><p>Add elements on each item (i.e. item/entry) element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed.write">
<span class="sig-name descname"><span class="pre">write</span></span>(<em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed.write" title="Link to this definition">¶</a></dt>
<dd><p>Outputs the feed in the given encoding to <code class="docutils literal notranslate"><span class="pre">outfile</span></code>, which is a
file-like object. Subclasses should override this.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed.writeString">
<span class="sig-name descname"><span class="pre">writeString</span></span>(<em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed.writeString"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed.writeString" title="Link to this definition">¶</a></dt>
<dd><p>Returns the feed in the given encoding as a string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.SyndicationFeed.latest_post_date">
<span class="sig-name descname"><span class="pre">latest_post_date</span></span>()<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#SyndicationFeed.latest_post_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.SyndicationFeed.latest_post_date" title="Link to this definition">¶</a></dt>
<dd><p>Returns the latest <code class="docutils literal notranslate"><span class="pre">pubdate</span></code> or <code class="docutils literal notranslate"><span class="pre">updateddate</span></code> for all items in the
feed. If no items have either of these attributes this returns the
current UTC date/time.</p>
</dd></dl>

</dd></dl>

</section>
<section id="s-enclosure">
<span id="enclosure"></span><h3><code class="docutils literal notranslate"><span class="pre">Enclosure</span></code><a class="headerlink" href="#enclosure" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.Enclosure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Enclosure</span></span><a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#Enclosure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.Enclosure" title="Link to this definition">¶</a></dt>
<dd><p>Represents an RSS enclosure</p>
</dd></dl>

</section>
<section id="s-rssfeed">
<span id="rssfeed"></span><h3><code class="docutils literal notranslate"><span class="pre">RssFeed</span></code><a class="headerlink" href="#rssfeed" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.RssFeed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RssFeed</span></span>(<em class="sig-param"><span class="n"><span class="pre">SyndicationFeed</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#RssFeed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.RssFeed" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="s-rss201rev2feed">
<span id="rss201rev2feed"></span><h3><code class="docutils literal notranslate"><span class="pre">Rss201rev2Feed</span></code><a class="headerlink" href="#rss201rev2feed" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.Rss201rev2Feed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Rss201rev2Feed</span></span>(<em class="sig-param"><span class="n"><span class="pre">RssFeed</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#Rss201rev2Feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.Rss201rev2Feed" title="Link to this definition">¶</a></dt>
<dd><p>Spec: <a class="reference external" href="https://cyber.harvard.edu/rss/rss.html">https://cyber.harvard.edu/rss/rss.html</a></p>
</dd></dl>

</section>
<section id="s-rssuserland091feed">
<span id="rssuserland091feed"></span><h3><code class="docutils literal notranslate"><span class="pre">RssUserland091Feed</span></code><a class="headerlink" href="#rssuserland091feed" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.RssUserland091Feed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RssUserland091Feed</span></span>(<em class="sig-param"><span class="n"><span class="pre">RssFeed</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#RssUserland091Feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.RssUserland091Feed" title="Link to this definition">¶</a></dt>
<dd><p>Spec: <a class="reference external" href="http://backend.userland.com/rss091">http://backend.userland.com/rss091</a></p>
</dd></dl>

</section>
<section id="s-atom1feed">
<span id="atom1feed"></span><h3><code class="docutils literal notranslate"><span class="pre">Atom1Feed</span></code><a class="headerlink" href="#atom1feed" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.utils.feedgenerator.Atom1Feed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Atom1Feed</span></span>(<em class="sig-param"><span class="n"><span class="pre">SyndicationFeed</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/feedgenerator.html#Atom1Feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.feedgenerator.Atom1Feed" title="Link to this definition">¶</a></dt>
<dd><p>Spec: <span class="target" id="index-4"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc4287.html"><strong>RFC 4287</strong></a></p>
</dd></dl>

</section>
</section>
<section id="s-module-gingerdj.utils.functional">
<span id="s-gingerdj-utils-functional"></span><span id="module-gingerdj.utils.functional"></span><span id="gingerdj-utils-functional"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.functional</span></code><a class="headerlink" href="#module-gingerdj.utils.functional" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.utils.functional.cached_property">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cached_property</span></span>(<em class="sig-param"><span class="n"><span class="pre">func</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/functional.html#cached_property"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.functional.cached_property" title="Link to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">&#64;cached_property</span></code> decorator caches the result of a method with a
single <code class="docutils literal notranslate"><span class="pre">self</span></code> argument as a property. The cached result will persist
as long as the instance does, so if the instance is passed around and the
function subsequently invoked, the cached result will be returned.</p>
<p>Consider a typical case, where a view might need to call a model’s method
to perform some computation, before placing the model instance into the
context, where the template might invoke the method once more:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># the model</span>
<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">friends</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># expensive computation</span>
        <span class="o">...</span>
        <span class="k">return</span> <span class="n">friends</span>


<span class="c1"># in the view:</span>
<span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">friends</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>And in the template you would have:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">friend</span> <span class="k">in</span> <span class="nv">person.friends</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">friends()</span></code> will be called twice. Since the instance <code class="docutils literal notranslate"><span class="pre">person</span></code> in
the view and the template are the same, decorating the <code class="docutils literal notranslate"><span class="pre">friends()</span></code> method
with <code class="docutils literal notranslate"><span class="pre">&#64;cached_property</span></code> can avoid that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gingerdj.utils.functional</span> <span class="kn">import</span> <span class="n">cached_property</span>


<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">friends</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>Note that as the method is now a property, in Python code it will need to
be accessed appropriately:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># in the view:</span>
<span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">friends</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The cached value can be treated like an ordinary attribute of the instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># clear it, requiring re-computation next time it&#39;s called</span>
<span class="k">del</span> <span class="n">person</span><span class="o">.</span><span class="n">friends</span>  <span class="c1"># or delattr(person, &quot;friends&quot;)</span>

<span class="c1"># set a value manually, that will persist on the instance until cleared</span>
<span class="n">person</span><span class="o">.</span><span class="n">friends</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Huckleberry Finn&quot;</span><span class="p">,</span> <span class="s2">&quot;Tom Sawyer&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Because of the way the <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#descriptor-invocation" title="(in Python v3.13)"><span class="xref std std-ref">descriptor protocol</span></a> works, using <code class="docutils literal notranslate"><span class="pre">del</span></code> (or <code class="docutils literal notranslate"><span class="pre">delattr</span></code>) on a
<code class="docutils literal notranslate"><span class="pre">cached_property</span></code> that hasn’t been accessed raises <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>.</p>
<p>As well as offering potential performance advantages, <code class="docutils literal notranslate"><span class="pre">&#64;cached_property</span></code>
can ensure that an attribute’s value does not change unexpectedly over the
life of an instance. This could occur with a method whose computation is
based on <code class="docutils literal notranslate"><span class="pre">datetime.now()</span></code>, or if a change were saved to the database by
some other process in the brief interval between subsequent invocations of
a method on the same instance.</p>
<p>You can make cached properties of methods. For example, if you had an
expensive <code class="docutils literal notranslate"><span class="pre">get_friends()</span></code> method and wanted to allow calling it without
retrieving the cached value, you could write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">friends</span> <span class="o">=</span> <span class="n">cached_property</span><span class="p">(</span><span class="n">get_friends</span><span class="p">)</span>
</pre></div>
</div>
<p>While <code class="docutils literal notranslate"><span class="pre">person.get_friends()</span></code> will recompute the friends on each call, the
value of the cached property will persist until you delete it as described
above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">friends</span>  <span class="c1"># calls first time</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">get_friends</span><span class="p">()</span>  <span class="c1"># calls again</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">friends</span>  <span class="c1"># does not call</span>
<span class="n">x</span> <span class="ow">is</span> <span class="n">z</span>  <span class="c1"># is True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.utils.functional.classproperty">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">classproperty</span></span>(<em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/functional.html#classproperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.functional.classproperty" title="Link to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference external" href="https://docs.python.org/3/library/functions.html#classmethod" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;classmethod</span></code></a>, the <code class="docutils literal notranslate"><span class="pre">&#64;classproperty</span></code>
decorator converts the result of a method with a single <code class="docutils literal notranslate"><span class="pre">cls</span></code> argument
into a property that can be accessed directly from the class.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.functional.keep_lazy">
<span class="sig-name descname"><span class="pre">keep_lazy</span></span>(<em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">resultclasses</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/functional.html#keep_lazy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.functional.keep_lazy" title="Link to this definition">¶</a></dt>
<dd><p>GingerDJ offers many utility functions (particularly in <code class="docutils literal notranslate"><span class="pre">gingerdj.utils</span></code>)
that take a string as their first argument and do something to that string.
These functions are used by template filters as well as directly in other
code.</p>
<p>If you write your own similar functions and deal with translations, you’ll
face the problem of what to do when the first argument is a lazy
translation object. You don’t want to convert it to a string immediately,
because you might be using this function outside of a view (and hence the
current thread’s locale setting will not be correct).</p>
<p>For cases like this, use the <code class="docutils literal notranslate"><span class="pre">gingerdj.utils.functional.keep_lazy()</span></code>
decorator. It modifies the function so that <em>if</em> it’s called with a lazy
translation as one of its arguments, the function evaluation is delayed
until it needs to be converted to a string.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gingerdj.utils.functional</span> <span class="kn">import</span> <span class="n">keep_lazy</span><span class="p">,</span> <span class="n">keep_lazy_text</span>


<span class="k">def</span> <span class="nf">fancy_utility_function</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># Do some conversion on string &#39;s&#39;</span>
    <span class="o">...</span>


<span class="n">fancy_utility_function</span> <span class="o">=</span> <span class="n">keep_lazy</span><span class="p">(</span><span class="nb">str</span><span class="p">)(</span><span class="n">fancy_utility_function</span><span class="p">)</span>


<span class="c1"># Or more succinctly:</span>
<span class="nd">@keep_lazy</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fancy_utility_function</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">keep_lazy()</span></code> decorator takes a number of extra arguments (<code class="docutils literal notranslate"><span class="pre">*args</span></code>)
specifying the type(s) that the original function can return. A common
use case is to have functions that return text. For these, you can pass the
<code class="docutils literal notranslate"><span class="pre">str</span></code> type to <code class="docutils literal notranslate"><span class="pre">keep_lazy</span></code> (or use the <a class="reference internal" href="#gingerdj.utils.functional.keep_lazy_text" title="gingerdj.utils.functional.keep_lazy_text"><code class="xref py py-func docutils literal notranslate"><span class="pre">keep_lazy_text()</span></code></a> decorator
described in the next section).</p>
<p>Using this decorator means you can write your function and assume that the
input is a proper string, then add support for lazy translation objects at
the end.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.functional.keep_lazy_text">
<span class="sig-name descname"><span class="pre">keep_lazy_text</span></span>(<em class="sig-param"><span class="n"><span class="pre">func</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/functional.html#keep_lazy_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.functional.keep_lazy_text" title="Link to this definition">¶</a></dt>
<dd><p>A shortcut for <code class="docutils literal notranslate"><span class="pre">keep_lazy(str)(func)</span></code>.</p>
<p>If you have a function that returns text and you want to be able to take
lazy arguments while delaying their evaluation, you can use this
decorator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gingerdj.utils.functional</span> <span class="kn">import</span> <span class="n">keep_lazy</span><span class="p">,</span> <span class="n">keep_lazy_text</span>


<span class="c1"># Our previous example was:</span>
<span class="nd">@keep_lazy</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fancy_utility_function</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>


<span class="c1"># Which can be rewritten as:</span>
<span class="nd">@keep_lazy_text</span>
<span class="k">def</span> <span class="nf">fancy_utility_function</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.html">
<span id="s-gingerdj-utils-html"></span><span id="module-gingerdj.utils.html"></span><span id="gingerdj-utils-html"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.html</span></code><a class="headerlink" href="#module-gingerdj.utils.html" title="Link to this heading">¶</a></h2>
<p>Usually you should build up HTML using GingerDJ’s templates to make use of its
autoescape mechanism, using the utilities in <a class="reference internal" href="#module-gingerdj.utils.safestring" title="gingerdj.utils.safestring: Functions and classes for working with strings that can be displayed safely without further escaping in HTML."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gingerdj.utils.safestring</span></code></a>
where appropriate. This module provides some additional low level utilities for
escaping HTML.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.html.escape">
<span class="sig-name descname"><span class="pre">escape</span></span>(<em class="sig-param"><span class="n"><span class="pre">text</span></span></em>)<a class="headerlink" href="#gingerdj.utils.html.escape" title="Link to this definition">¶</a></dt>
<dd><p>Returns the given text with ampersands, quotes and angle brackets encoded
for use in HTML. The input is first coerced to a string and the output has
<a class="reference internal" href="#gingerdj.utils.safestring.mark_safe" title="gingerdj.utils.safestring.mark_safe"><code class="xref py py-func docutils literal notranslate"><span class="pre">mark_safe()</span></code></a> applied.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.html.conditional_escape">
<span class="sig-name descname"><span class="pre">conditional_escape</span></span>(<em class="sig-param"><span class="n"><span class="pre">text</span></span></em>)<a class="headerlink" href="#gingerdj.utils.html.conditional_escape" title="Link to this definition">¶</a></dt>
<dd><p>Similar to <code class="docutils literal notranslate"><span class="pre">escape()</span></code>, except that it doesn’t operate on preescaped
strings, so it will not double escape.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.html.format_html">
<span class="sig-name descname"><span class="pre">format_html</span></span>(<em class="sig-param"><span class="n"><span class="pre">format_string</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="headerlink" href="#gingerdj.utils.html.format_html" title="Link to this definition">¶</a></dt>
<dd><p>This is similar to <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.format" title="(in Python v3.13)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.format()</span></code></a>, except that it is appropriate for
building up HTML fragments. The first argument <code class="docutils literal notranslate"><span class="pre">format_string</span></code> is not
escaped but all other args and kwargs are passed through
<a class="reference internal" href="#gingerdj.utils.html.conditional_escape" title="gingerdj.utils.html.conditional_escape"><code class="xref py py-func docutils literal notranslate"><span class="pre">conditional_escape()</span></code></a> before being passed to <code class="docutils literal notranslate"><span class="pre">str.format()</span></code>.
Finally, the output has <a class="reference internal" href="#gingerdj.utils.safestring.mark_safe" title="gingerdj.utils.safestring.mark_safe"><code class="xref py py-func docutils literal notranslate"><span class="pre">mark_safe()</span></code></a> applied.</p>
<p>For the case of building up small HTML fragments, this function is to be
preferred over string interpolation using <code class="docutils literal notranslate"><span class="pre">%</span></code> or <code class="docutils literal notranslate"><span class="pre">str.format()</span></code>
directly, because it applies escaping to all arguments - just like the
template system applies escaping by default.</p>
<p>So, instead of writing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mark_safe</span><span class="p">(</span>
    <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &lt;b&gt;</span><span class="si">%s</span><span class="s2">&lt;/b&gt; </span><span class="si">%s</span><span class="s2">&quot;</span>
    <span class="o">%</span> <span class="p">(</span>
        <span class="n">some_html</span><span class="p">,</span>
        <span class="n">escape</span><span class="p">(</span><span class="n">some_text</span><span class="p">),</span>
        <span class="n">escape</span><span class="p">(</span><span class="n">some_other_text</span><span class="p">),</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You should instead use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">format_html</span><span class="p">(</span>
    <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> &lt;b&gt;</span><span class="si">{}</span><span class="s2">&lt;/b&gt; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">mark_safe</span><span class="p">(</span><span class="n">some_html</span><span class="p">),</span>
    <span class="n">some_text</span><span class="p">,</span>
    <span class="n">some_other_text</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This has the advantage that you don’t need to apply <a class="reference internal" href="#gingerdj.utils.html.escape" title="gingerdj.utils.html.escape"><code class="xref py py-func docutils literal notranslate"><span class="pre">escape()</span></code></a> to each
argument and risk a bug and an XSS vulnerability if you forget one.</p>
<p>Note that although this function uses <code class="docutils literal notranslate"><span class="pre">str.format()</span></code> to do the
interpolation, some of the formatting options provided by <code class="docutils literal notranslate"><span class="pre">str.format()</span></code>
(e.g. number formatting) will not work, since all arguments are passed
through <a class="reference internal" href="#gingerdj.utils.html.conditional_escape" title="gingerdj.utils.html.conditional_escape"><code class="xref py py-func docutils literal notranslate"><span class="pre">conditional_escape()</span></code></a> which (ultimately) calls
<a class="reference internal" href="#gingerdj.utils.encoding.force_str" title="gingerdj.utils.encoding.force_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">force_str()</span></code></a> on the values.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 5.0: </span>Support for calling <code class="docutils literal notranslate"><span class="pre">format_html()</span></code> without passing args or kwargs is
deprecated.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.html.format_html_join">
<span class="sig-name descname"><span class="pre">format_html_join</span></span>(<em class="sig-param"><span class="n"><span class="pre">sep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args_generator</span></span></em>)<a class="headerlink" href="#gingerdj.utils.html.format_html_join" title="Link to this definition">¶</a></dt>
<dd><p>A wrapper of <a class="reference internal" href="#gingerdj.utils.html.format_html" title="gingerdj.utils.html.format_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_html()</span></code></a>, for the common case of a group of
arguments that need to be formatted using the same format string, and then
joined using <code class="docutils literal notranslate"><span class="pre">sep</span></code>. <code class="docutils literal notranslate"><span class="pre">sep</span></code> is also passed through
<a class="reference internal" href="#gingerdj.utils.html.conditional_escape" title="gingerdj.utils.html.conditional_escape"><code class="xref py py-func docutils literal notranslate"><span class="pre">conditional_escape()</span></code></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">args_generator</span></code> should be an iterator that returns the sequence of
<code class="docutils literal notranslate"><span class="pre">args</span></code> that will be passed to <a class="reference internal" href="#gingerdj.utils.html.format_html" title="gingerdj.utils.html.format_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_html()</span></code></a>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">format_html_join</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;li&gt;</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&lt;/li&gt;&quot;</span><span class="p">,</span> <span class="p">((</span><span class="n">u</span><span class="o">.</span><span class="n">first_name</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">last_name</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">users</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.html.json_script">
<span class="sig-name descname"><span class="pre">json_script</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#gingerdj.utils.html.json_script" title="Link to this definition">¶</a></dt>
<dd><p>Escapes all HTML/XML special characters with their Unicode escapes, so
value is safe for use with JavaScript. Also wraps the escaped JSON in a
<code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tag. If the <code class="docutils literal notranslate"><span class="pre">element_id</span></code> parameter is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, the
<code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tag is given the passed id. For example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">json_script</span><span class="p">({</span><span class="s2">&quot;hello&quot;</span><span class="p">:</span> <span class="s2">&quot;world&quot;</span><span class="p">},</span> <span class="n">element_id</span><span class="o">=</span><span class="s2">&quot;hello-data&quot;</span><span class="p">)</span>
<span class="go">&#39;&lt;script id=&quot;hello-data&quot; type=&quot;application/json&quot;&gt;{&quot;hello&quot;: &quot;world&quot;}&lt;/script&gt;&#39;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">encoder</span></code>, which defaults to
<a class="reference internal" href="../topics/serialization.html#gingerdj.core.serializers.json.GingerJSONEncoder" title="gingerdj.core.serializers.json.GingerJSONEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">gingerdj.core.serializers.json.GingerJSONEncoder</span></code></a>, will be used to
serialize the data. See <a class="reference internal" href="../topics/serialization.html#serialization-formats-json"><span class="std std-ref">JSON serialization</span></a> for more details about this serializer.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.html.strip_tags">
<span class="sig-name descname"><span class="pre">strip_tags</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.utils.html.strip_tags" title="Link to this definition">¶</a></dt>
<dd><p>Tries to remove anything that looks like an HTML tag from the string, that
is anything contained within <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code>.</p>
<p>Absolutely NO guarantee is provided about the resulting string being
HTML safe. So NEVER mark safe the result of a <code class="docutils literal notranslate"><span class="pre">strip_tag</span></code> call without
escaping it first, for example with <a class="reference internal" href="#gingerdj.utils.html.escape" title="gingerdj.utils.html.escape"><code class="xref py py-func docutils literal notranslate"><span class="pre">escape()</span></code></a>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">strip_tags</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">value</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;&lt;b&gt;Joel&lt;/b&gt;</span> <span class="pre">&lt;button&gt;is&lt;/button&gt;</span> <span class="pre">a</span> <span class="pre">&lt;span&gt;slug&lt;/span&gt;&quot;</span></code>
the return value will be <code class="docutils literal notranslate"><span class="pre">&quot;Joel</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">slug&quot;</span></code>.</p>
<p>If you are looking for a more robust solution, consider using a third-party
HTML sanitizing tool.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.html.html_safe">
<span class="sig-name descname"><span class="pre">html_safe</span></span>()<a class="headerlink" href="#gingerdj.utils.html.html_safe" title="Link to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">__html__()</span></code> method on a class helps non-GingerDJ templates detect
classes whose output doesn’t require HTML escaping.</p>
<p>This decorator defines the <code class="docutils literal notranslate"><span class="pre">__html__()</span></code> method on the decorated class
by wrapping <code class="docutils literal notranslate"><span class="pre">__str__()</span></code> in <a class="reference internal" href="#gingerdj.utils.safestring.mark_safe" title="gingerdj.utils.safestring.mark_safe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mark_safe()</span></code></a>.
Ensure the <code class="docutils literal notranslate"><span class="pre">__str__()</span></code> method does indeed return text that doesn’t
require HTML escaping.</p>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.http">
<span id="s-gingerdj-utils-http"></span><span id="module-gingerdj.utils.http"></span><span id="gingerdj-utils-http"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.http</span></code><a class="headerlink" href="#module-gingerdj.utils.http" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.http.urlencode">
<span class="sig-name descname"><span class="pre">urlencode</span></span>(<em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doseq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/http.html#urlencode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.http.urlencode" title="Link to this definition">¶</a></dt>
<dd><p>A version of Python’s <a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlencode" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">urllib.parse.urlencode()</span></code></a> function that can
operate on <code class="docutils literal notranslate"><span class="pre">MultiValueDict</span></code> and non-string values.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.http.http_date">
<span class="sig-name descname"><span class="pre">http_date</span></span>(<em class="sig-param"><span class="n"><span class="pre">epoch_seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/http.html#http_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.http.http_date" title="Link to this definition">¶</a></dt>
<dd><p>Formats the time to match the <span class="target" id="index-5"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1123.html#section-5.2.14"><strong>RFC 1123 Section 5.2.14</strong></a> date format as
specified by HTTP <span class="target" id="index-6"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-5.6.7"><strong>RFC 9110 Section 5.6.7</strong></a>.</p>
<p>Accepts a floating point number expressed in seconds since the epoch in
UTC–such as that outputted by <code class="docutils literal notranslate"><span class="pre">time.time()</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>,
defaults to the current time.</p>
<p>Outputs a string in the format <code class="docutils literal notranslate"><span class="pre">Wdy,</span> <span class="pre">DD</span> <span class="pre">Mon</span> <span class="pre">YYYY</span> <span class="pre">HH:MM:SS</span> <span class="pre">GMT</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.http.content_disposition_header">
<span class="sig-name descname"><span class="pre">content_disposition_header</span></span>(<em class="sig-param"><span class="n"><span class="pre">as_attachment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/http.html#content_disposition_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.http.content_disposition_header" title="Link to this definition">¶</a></dt>
<dd><p>Constructs a <code class="docutils literal notranslate"><span class="pre">Content-Disposition</span></code> HTTP header value from the given
<code class="docutils literal notranslate"><span class="pre">filename</span></code> as specified by <span class="target" id="index-7"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6266.html"><strong>RFC 6266</strong></a>. Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if
<code class="docutils literal notranslate"><span class="pre">as_attachment</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> and <code class="docutils literal notranslate"><span class="pre">filename</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, otherwise
returns a string suitable for the <code class="docutils literal notranslate"><span class="pre">Content-Disposition</span></code> HTTP header.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.http.base36_to_int">
<span class="sig-name descname"><span class="pre">base36_to_int</span></span>(<em class="sig-param"><span class="n"><span class="pre">s</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/http.html#base36_to_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.http.base36_to_int" title="Link to this definition">¶</a></dt>
<dd><p>Converts a base 36 string to an integer.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.http.int_to_base36">
<span class="sig-name descname"><span class="pre">int_to_base36</span></span>(<em class="sig-param"><span class="n"><span class="pre">i</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/http.html#int_to_base36"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.http.int_to_base36" title="Link to this definition">¶</a></dt>
<dd><p>Converts a positive integer to a base 36 string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.http.urlsafe_base64_encode">
<span class="sig-name descname"><span class="pre">urlsafe_base64_encode</span></span>(<em class="sig-param"><span class="n"><span class="pre">s</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/http.html#urlsafe_base64_encode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.http.urlsafe_base64_encode" title="Link to this definition">¶</a></dt>
<dd><p>Encodes a bytestring to a base64 string for use in URLs, stripping any
trailing equal signs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.http.urlsafe_base64_decode">
<span class="sig-name descname"><span class="pre">urlsafe_base64_decode</span></span>(<em class="sig-param"><span class="n"><span class="pre">s</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/http.html#urlsafe_base64_decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.http.urlsafe_base64_decode" title="Link to this definition">¶</a></dt>
<dd><p>Decodes a base64 encoded string, adding back any trailing equal signs that
might have been stripped.</p>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.module_loading">
<span id="s-gingerdj-utils-module-loading"></span><span id="module-gingerdj.utils.module_loading"></span><span id="gingerdj-utils-module-loading"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.module_loading</span></code><a class="headerlink" href="#module-gingerdj.utils.module_loading" title="Link to this heading">¶</a></h2>
<p>Functions for working with Python modules.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.module_loading.import_string">
<span class="sig-name descname"><span class="pre">import_string</span></span>(<em class="sig-param"><span class="n"><span class="pre">dotted_path</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/module_loading.html#import_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.module_loading.import_string" title="Link to this definition">¶</a></dt>
<dd><p>Imports a dotted module path and returns the attribute/class designated by
the last name in the path. Raises <code class="docutils literal notranslate"><span class="pre">ImportError</span></code> if the import failed. For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gingerdj.utils.module_loading</span> <span class="kn">import</span> <span class="n">import_string</span>

<span class="n">ValidationError</span> <span class="o">=</span> <span class="n">import_string</span><span class="p">(</span><span class="s2">&quot;gingerdj.core.exceptions.ValidationError&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gingerdj.core.exceptions</span> <span class="kn">import</span> <span class="n">ValidationError</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.safestring">
<span id="s-gingerdj-utils-safestring"></span><span id="module-gingerdj.utils.safestring"></span><span id="gingerdj-utils-safestring"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.safestring</span></code><a class="headerlink" href="#module-gingerdj.utils.safestring" title="Link to this heading">¶</a></h2>
<p>Functions and classes for working with “safe strings”: strings that can be
displayed safely without further escaping in HTML. Marking something as a “safe
string” means that the producer of the string has already turned characters
that should not be interpreted by the HTML engine (e.g. ‘&lt;’) into the
appropriate entities.</p>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.utils.safestring.SafeString">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SafeString</span></span><a class="reference internal" href="../_modules/gingerdj/utils/safestring.html#SafeString"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.safestring.SafeString" title="Link to this definition">¶</a></dt>
<dd><p>A <code class="docutils literal notranslate"><span class="pre">str</span></code> subclass that has been specifically marked as “safe” (requires no
further escaping) for HTML output purposes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.safestring.mark_safe">
<span class="sig-name descname"><span class="pre">mark_safe</span></span>(<em class="sig-param"><span class="n"><span class="pre">s</span></span></em>)<a class="reference internal" href="../_modules/gingerdj/utils/safestring.html#mark_safe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gingerdj.utils.safestring.mark_safe" title="Link to this definition">¶</a></dt>
<dd><p>Explicitly mark a string as safe for (HTML) output purposes. The returned
object can be used everywhere a string is appropriate.</p>
<p>Can be called multiple times on a single string.</p>
<p>Can also be used as a decorator.</p>
<p>For building up fragments of HTML, you should normally be using
<a class="reference internal" href="#gingerdj.utils.html.format_html" title="gingerdj.utils.html.format_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">gingerdj.utils.html.format_html()</span></code></a> instead.</p>
<p>String marked safe will become unsafe again if modified. For example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mystr</span> <span class="o">=</span> <span class="s2">&quot;&lt;b&gt;Hello World&lt;/b&gt;   &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mystr</span> <span class="o">=</span> <span class="n">mark_safe</span><span class="p">(</span><span class="n">mystr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">mystr</span><span class="p">)</span>
<span class="go">&lt;class &#39;gingerdj.utils.safestring.SafeString&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">mystr</span> <span class="o">=</span> <span class="n">mystr</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># removing whitespace</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">mystr</span><span class="p">)</span>
<span class="go">&lt;type &#39;str&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.text">
<span id="s-gingerdj-utils-text"></span><span id="module-gingerdj.utils.text"></span><span id="gingerdj-utils-text"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.text</span></code><a class="headerlink" href="#module-gingerdj.utils.text" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.text.format_lazy">
<span class="sig-name descname"><span class="pre">format_lazy</span></span>(<em class="sig-param"><span class="n"><span class="pre">format_string</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="headerlink" href="#gingerdj.utils.text.format_lazy" title="Link to this definition">¶</a></dt>
<dd><p>A version of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.format" title="(in Python v3.13)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.format()</span></code></a> for when <code class="docutils literal notranslate"><span class="pre">format_string</span></code>, <code class="docutils literal notranslate"><span class="pre">args</span></code>,
and/or <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> contain lazy objects. The first argument is the string to
be formatted. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gingerdj.utils.text</span> <span class="kn">import</span> <span class="n">format_lazy</span>
<span class="kn">from</span> <span class="nn">gingerdj.utils.translation</span> <span class="kn">import</span> <span class="n">pgettext_lazy</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span>
        <span class="n">format_lazy</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{person}</span><span class="s2">/&lt;int:pk&gt;/&quot;</span><span class="p">,</span> <span class="n">person</span><span class="o">=</span><span class="n">pgettext_lazy</span><span class="p">(</span><span class="s2">&quot;URL&quot;</span><span class="p">,</span> <span class="s2">&quot;person&quot;</span><span class="p">)),</span>
        <span class="n">PersonDetailView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span>
    <span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>This example allows translators to translate part of the URL. If “person”
is translated to “persona”, the regular expression will match
<code class="docutils literal notranslate"><span class="pre">persona/(?P&lt;pk&gt;\d+)/$</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">persona/5/</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.text.slugify">
<span class="sig-name descname"><span class="pre">slugify</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_unicode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#gingerdj.utils.text.slugify" title="Link to this definition">¶</a></dt>
<dd><p>Converts a string to a URL slug by:</p>
<ol class="arabic simple">
<li><p>Converting to ASCII if <code class="docutils literal notranslate"><span class="pre">allow_unicode</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default).</p></li>
<li><p>Converting to lowercase.</p></li>
<li><p>Removing characters that aren’t alphanumerics, underscores, hyphens, or
whitespace.</p></li>
<li><p>Replacing any whitespace or repeated dashes with single dashes.</p></li>
<li><p>Removing leading and trailing whitespace, dashes, and underscores.</p></li>
</ol>
<p>For example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">slugify</span><span class="p">(</span><span class="s2">&quot; Joel is a slug &quot;</span><span class="p">)</span>
<span class="go">&#39;joel-is-a-slug&#39;</span>
</pre></div>
</div>
<p>If you want to allow Unicode characters, pass <code class="docutils literal notranslate"><span class="pre">allow_unicode=True</span></code>. For
example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">slugify</span><span class="p">(</span><span class="s2">&quot;你好 World&quot;</span><span class="p">,</span> <span class="n">allow_unicode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;你好-world&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.timezone">
<span id="s-gingerdj-utils-timezone"></span><span id="s-time-zone-selection-functions"></span><span id="module-gingerdj.utils.timezone"></span><span id="gingerdj-utils-timezone"></span><span id="time-zone-selection-functions"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.timezone</span></code><a class="headerlink" href="#module-gingerdj.utils.timezone" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.get_fixed_timezone">
<span class="sig-name descname"><span class="pre">get_fixed_timezone</span></span>(<em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>)<a class="headerlink" href="#gingerdj.utils.timezone.get_fixed_timezone" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tzinfo</span></code></a> instance that represents a time zone
with a fixed offset from UTC.</p>
<p><code class="docutils literal notranslate"><span class="pre">offset</span></code> is a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a> or an integer number of
minutes. Use positive values for time zones east of UTC and negative
values for west of UTC.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.get_default_timezone">
<span class="sig-name descname"><span class="pre">get_default_timezone</span></span>()<a class="headerlink" href="#gingerdj.utils.timezone.get_default_timezone" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tzinfo</span></code></a> instance that represents the
<a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">default time zone</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.get_default_timezone_name">
<span class="sig-name descname"><span class="pre">get_default_timezone_name</span></span>()<a class="headerlink" href="#gingerdj.utils.timezone.get_default_timezone_name" title="Link to this definition">¶</a></dt>
<dd><p>Returns the name of the <a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">default time zone</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.get_current_timezone">
<span class="sig-name descname"><span class="pre">get_current_timezone</span></span>()<a class="headerlink" href="#gingerdj.utils.timezone.get_current_timezone" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tzinfo</span></code></a> instance that represents the
<a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.get_current_timezone_name">
<span class="sig-name descname"><span class="pre">get_current_timezone_name</span></span>()<a class="headerlink" href="#gingerdj.utils.timezone.get_current_timezone_name" title="Link to this definition">¶</a></dt>
<dd><p>Returns the name of the <a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.activate">
<span class="sig-name descname"><span class="pre">activate</span></span>(<em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em>)<a class="headerlink" href="#gingerdj.utils.timezone.activate" title="Link to this definition">¶</a></dt>
<dd><p>Sets the <a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">current time zone</span></a>. The
<code class="docutils literal notranslate"><span class="pre">timezone</span></code> argument must be an instance of a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tzinfo</span></code></a>
subclass or a time zone name.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.deactivate">
<span class="sig-name descname"><span class="pre">deactivate</span></span>()<a class="headerlink" href="#gingerdj.utils.timezone.deactivate" title="Link to this definition">¶</a></dt>
<dd><p>Unsets the <a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.override">
<span class="sig-name descname"><span class="pre">override</span></span>(<em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em>)<a class="headerlink" href="#gingerdj.utils.timezone.override" title="Link to this definition">¶</a></dt>
<dd><p>This is a Python context manager that sets the <a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">current time zone</span></a> on entry with <a class="reference internal" href="#gingerdj.utils.timezone.activate" title="gingerdj.utils.timezone.activate"><code class="xref py py-func docutils literal notranslate"><span class="pre">activate()</span></code></a>, and restores
the previously active time zone on exit. If the <code class="docutils literal notranslate"><span class="pre">timezone</span></code> argument is
<code class="docutils literal notranslate"><span class="pre">None</span></code>, the <a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">current time zone</span></a> is unset
on entry with <a class="reference internal" href="#gingerdj.utils.timezone.deactivate" title="gingerdj.utils.timezone.deactivate"><code class="xref py py-func docutils literal notranslate"><span class="pre">deactivate()</span></code></a> instead.</p>
<p><code class="docutils literal notranslate"><span class="pre">override</span></code> is also usable as a function decorator.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.localtime">
<span class="sig-name descname"><span class="pre">localtime</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#gingerdj.utils.timezone.localtime" title="Link to this definition">¶</a></dt>
<dd><p>Converts an aware <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> to a different time zone,
by default the <a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">value</span></code> is omitted, it defaults to <a class="reference internal" href="#gingerdj.utils.timezone.now" title="gingerdj.utils.timezone.now"><code class="xref py py-func docutils literal notranslate"><span class="pre">now()</span></code></a>.</p>
<p>This function doesn’t work on naive datetimes; use <a class="reference internal" href="#gingerdj.utils.timezone.make_aware" title="gingerdj.utils.timezone.make_aware"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_aware()</span></code></a>
instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.localdate">
<span class="sig-name descname"><span class="pre">localdate</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#gingerdj.utils.timezone.localdate" title="Link to this definition">¶</a></dt>
<dd><p>Uses <a class="reference internal" href="#gingerdj.utils.timezone.localtime" title="gingerdj.utils.timezone.localtime"><code class="xref py py-func docutils literal notranslate"><span class="pre">localtime()</span></code></a> to convert an aware <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> to a
<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime.date" title="(in Python v3.13)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">date()</span></code></a> in a different time zone, by default the
<a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">value</span></code> is omitted, it defaults to <a class="reference internal" href="#gingerdj.utils.timezone.now" title="gingerdj.utils.timezone.now"><code class="xref py py-func docutils literal notranslate"><span class="pre">now()</span></code></a>.</p>
<p>This function doesn’t work on naive datetimes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.now">
<span class="sig-name descname"><span class="pre">now</span></span>()<a class="headerlink" href="#gingerdj.utils.timezone.now" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> that represents the
current point in time. Exactly what’s returned depends on the value of
<a class="reference internal" href="settings.html#std-setting-USE_TZ"><code class="xref std std-setting docutils literal notranslate"><span class="pre">USE_TZ</span></code></a>:</p>
<ul class="simple">
<li><p>If <a class="reference internal" href="settings.html#std-setting-USE_TZ"><code class="xref std std-setting docutils literal notranslate"><span class="pre">USE_TZ</span></code></a> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, this will be a
<a class="reference internal" href="../topics/i18n/timezones.html#naive-vs-aware-datetimes"><span class="std std-ref">naive</span></a> datetime (i.e. a datetime
without an associated timezone) that represents the current time
in the system’s local timezone.</p></li>
<li><p>If <a class="reference internal" href="settings.html#std-setting-USE_TZ"><code class="xref std std-setting docutils literal notranslate"><span class="pre">USE_TZ</span></code></a> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, this will be an
<a class="reference internal" href="../topics/i18n/timezones.html#naive-vs-aware-datetimes"><span class="std std-ref">aware</span></a> datetime representing the
current time in UTC. Note that <a class="reference internal" href="#gingerdj.utils.timezone.now" title="gingerdj.utils.timezone.now"><code class="xref py py-func docutils literal notranslate"><span class="pre">now()</span></code></a> will always return
times in UTC regardless of the value of <a class="reference internal" href="settings.html#std-setting-TIME_ZONE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">TIME_ZONE</span></code></a>;
you can use <a class="reference internal" href="#gingerdj.utils.timezone.localtime" title="gingerdj.utils.timezone.localtime"><code class="xref py py-func docutils literal notranslate"><span class="pre">localtime()</span></code></a> to get the time in the current time zone.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.is_aware">
<span class="sig-name descname"><span class="pre">is_aware</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.utils.timezone.is_aware" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">value</span></code> is aware, <code class="docutils literal notranslate"><span class="pre">False</span></code> if it is naive. This
function assumes that <code class="docutils literal notranslate"><span class="pre">value</span></code> is a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.is_naive">
<span class="sig-name descname"><span class="pre">is_naive</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.utils.timezone.is_naive" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">value</span></code> is naive, <code class="docutils literal notranslate"><span class="pre">False</span></code> if it is aware. This
function assumes that <code class="docutils literal notranslate"><span class="pre">value</span></code> is a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.make_aware">
<span class="sig-name descname"><span class="pre">make_aware</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#gingerdj.utils.timezone.make_aware" title="Link to this definition">¶</a></dt>
<dd><p>Returns an aware <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> that represents the same
point in time as <code class="docutils literal notranslate"><span class="pre">value</span></code> in <code class="docutils literal notranslate"><span class="pre">timezone</span></code>, <code class="docutils literal notranslate"><span class="pre">value</span></code> being a naive
<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a>. If <code class="docutils literal notranslate"><span class="pre">timezone</span></code> is set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, it
defaults to the <a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.timezone.make_naive">
<span class="sig-name descname"><span class="pre">make_naive</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#gingerdj.utils.timezone.make_naive" title="Link to this definition">¶</a></dt>
<dd><p>Returns a naive <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> that represents in
<code class="docutils literal notranslate"><span class="pre">timezone</span></code>  the same point in time as <code class="docutils literal notranslate"><span class="pre">value</span></code>, <code class="docutils literal notranslate"><span class="pre">value</span></code> being an
aware <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a>. If <code class="docutils literal notranslate"><span class="pre">timezone</span></code> is set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, it
defaults to the <a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p>
</dd></dl>

</section>
<section id="s-module-gingerdj.utils.translation">
<span id="s-gingerdj-utils-translation"></span><span id="module-gingerdj.utils.translation"></span><span id="gingerdj-utils-translation"></span><h2><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.translation</span></code><a class="headerlink" href="#module-gingerdj.utils.translation" title="Link to this heading">¶</a></h2>
<p>For a complete discussion on the usage of the following see the
<a class="reference internal" href="../topics/i18n/translation.html"><span class="doc">translation documentation</span></a>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.gettext">
<span class="sig-name descname"><span class="pre">gettext</span></span>(<em class="sig-param"><span class="n"><span class="pre">message</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.gettext" title="Link to this definition">¶</a></dt>
<dd><p>Translates <code class="docutils literal notranslate"><span class="pre">message</span></code> and returns it as a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.pgettext">
<span class="sig-name descname"><span class="pre">pgettext</span></span>(<em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.pgettext" title="Link to this definition">¶</a></dt>
<dd><p>Translates <code class="docutils literal notranslate"><span class="pre">message</span></code> given the <code class="docutils literal notranslate"><span class="pre">context</span></code> and returns it as a string.</p>
<p>For more information, see <a class="reference internal" href="../topics/i18n/translation.html#contextual-markers"><span class="std std-ref">Contextual markers</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.gettext_lazy">
<span class="sig-name descname"><span class="pre">gettext_lazy</span></span>(<em class="sig-param"><span class="n"><span class="pre">message</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.gettext_lazy" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.pgettext_lazy">
<span class="sig-name descname"><span class="pre">pgettext_lazy</span></span>(<em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.pgettext_lazy" title="Link to this definition">¶</a></dt>
<dd><p>Same as the non-lazy versions above, but using lazy execution.</p>
<p>See <a class="reference internal" href="../topics/i18n/translation.html#lazy-translations"><span class="std std-ref">lazy translations documentation</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.gettext_noop">
<span class="sig-name descname"><span class="pre">gettext_noop</span></span>(<em class="sig-param"><span class="n"><span class="pre">message</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.gettext_noop" title="Link to this definition">¶</a></dt>
<dd><p>Marks strings for translation but doesn’t translate them now. This can be
used to store strings in global variables that should stay in the base
language (because they might be used externally) and will be translated
later.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.ngettext">
<span class="sig-name descname"><span class="pre">ngettext</span></span>(<em class="sig-param"><span class="n"><span class="pre">singular</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plural</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.ngettext" title="Link to this definition">¶</a></dt>
<dd><p>Translates <code class="docutils literal notranslate"><span class="pre">singular</span></code> and <code class="docutils literal notranslate"><span class="pre">plural</span></code> and returns the appropriate string
based on <code class="docutils literal notranslate"><span class="pre">number</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.npgettext">
<span class="sig-name descname"><span class="pre">npgettext</span></span>(<em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">singular</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plural</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.npgettext" title="Link to this definition">¶</a></dt>
<dd><p>Translates <code class="docutils literal notranslate"><span class="pre">singular</span></code> and <code class="docutils literal notranslate"><span class="pre">plural</span></code> and returns the appropriate string
based on <code class="docutils literal notranslate"><span class="pre">number</span></code> and the <code class="docutils literal notranslate"><span class="pre">context</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.ngettext_lazy">
<span class="sig-name descname"><span class="pre">ngettext_lazy</span></span>(<em class="sig-param"><span class="n"><span class="pre">singular</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plural</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.ngettext_lazy" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.npgettext_lazy">
<span class="sig-name descname"><span class="pre">npgettext_lazy</span></span>(<em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">singular</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plural</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.npgettext_lazy" title="Link to this definition">¶</a></dt>
<dd><p>Same as the non-lazy versions above, but using lazy execution.</p>
<p>See <a class="reference internal" href="../topics/i18n/translation.html#lazy-translations"><span class="std std-ref">lazy translations documentation</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.activate">
<span class="sig-name descname"><span class="pre">activate</span></span>(<em class="sig-param"><span class="n"><span class="pre">language</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.activate" title="Link to this definition">¶</a></dt>
<dd><p>Fetches the translation object for a given language and activates it as
the current translation object for the current thread.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.deactivate">
<span class="sig-name descname"><span class="pre">deactivate</span></span>()<a class="headerlink" href="#gingerdj.utils.translation.deactivate" title="Link to this definition">¶</a></dt>
<dd><p>Deactivates the currently active translation object so that further _ calls
will resolve against the default translation object, again.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.deactivate_all">
<span class="sig-name descname"><span class="pre">deactivate_all</span></span>()<a class="headerlink" href="#gingerdj.utils.translation.deactivate_all" title="Link to this definition">¶</a></dt>
<dd><p>Makes the active translation object a <code class="docutils literal notranslate"><span class="pre">NullTranslations()</span></code> instance.
This is useful when we want delayed translations to appear as the original
string for some reason.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.override">
<span class="sig-name descname"><span class="pre">override</span></span>(<em class="sig-param"><span class="n"><span class="pre">language</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deactivate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.override" title="Link to this definition">¶</a></dt>
<dd><p>A Python context manager that uses
<a class="reference internal" href="#gingerdj.utils.translation.activate" title="gingerdj.utils.translation.activate"><code class="xref py py-func docutils literal notranslate"><span class="pre">gingerdj.utils.translation.activate()</span></code></a> to fetch the translation object
for a given language, activates it as the translation object for the
current thread and reactivates the previous active language on exit.
Optionally, it can deactivate the temporary translation on exit with
<a class="reference internal" href="#gingerdj.utils.translation.deactivate" title="gingerdj.utils.translation.deactivate"><code class="xref py py-func docutils literal notranslate"><span class="pre">gingerdj.utils.translation.deactivate()</span></code></a> if the <code class="docutils literal notranslate"><span class="pre">deactivate</span></code> argument
is <code class="docutils literal notranslate"><span class="pre">True</span></code>. If you pass <code class="docutils literal notranslate"><span class="pre">None</span></code> as the language argument, a
<code class="docutils literal notranslate"><span class="pre">NullTranslations()</span></code> instance is activated within the context.</p>
<p><code class="docutils literal notranslate"><span class="pre">override</span></code> is also usable as a function decorator.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.check_for_language">
<span class="sig-name descname"><span class="pre">check_for_language</span></span>(<em class="sig-param"><span class="n"><span class="pre">lang_code</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.check_for_language" title="Link to this definition">¶</a></dt>
<dd><p>Checks whether there is a global language file for the given language
code (e.g. ‘fr’, ‘pt_BR’). This is used to decide whether a user-provided
language is available.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.get_language">
<span class="sig-name descname"><span class="pre">get_language</span></span>()<a class="headerlink" href="#gingerdj.utils.translation.get_language" title="Link to this definition">¶</a></dt>
<dd><p>Returns the currently selected language code. Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if
translations are temporarily deactivated (by <a class="reference internal" href="#gingerdj.utils.translation.deactivate_all" title="gingerdj.utils.translation.deactivate_all"><code class="xref py py-func docutils literal notranslate"><span class="pre">deactivate_all()</span></code></a> or
when <code class="docutils literal notranslate"><span class="pre">None</span></code> is passed to <a class="reference internal" href="#gingerdj.utils.translation.override" title="gingerdj.utils.translation.override"><code class="xref py py-func docutils literal notranslate"><span class="pre">override()</span></code></a>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.get_language_bidi">
<span class="sig-name descname"><span class="pre">get_language_bidi</span></span>()<a class="headerlink" href="#gingerdj.utils.translation.get_language_bidi" title="Link to this definition">¶</a></dt>
<dd><p>Returns selected language’s BiDi layout:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code> = left-to-right layout</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> = right-to-left layout</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.get_language_from_request">
<span class="sig-name descname"><span class="pre">get_language_from_request</span></span>(<em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.get_language_from_request" title="Link to this definition">¶</a></dt>
<dd><p>Analyzes the request to find what language the user wants the system to
show. Only languages listed in settings.LANGUAGES are taken into account.
If the user requests a sublanguage where we have a main language, we send
out the main language.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">check_path</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the function first checks the requested URL
for whether its path begins with a language code listed in the
<a class="reference internal" href="settings.html#std-setting-LANGUAGES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">LANGUAGES</span></code></a> setting.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.get_supported_language_variant">
<span class="sig-name descname"><span class="pre">get_supported_language_variant</span></span>(<em class="sig-param"><span class="n"><span class="pre">lang_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.get_supported_language_variant" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">lang_code</span></code> if it’s in the <a class="reference internal" href="settings.html#std-setting-LANGUAGES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">LANGUAGES</span></code></a> setting, possibly
selecting a more generic variant. For example, <code class="docutils literal notranslate"><span class="pre">'es'</span></code> is returned if
<code class="docutils literal notranslate"><span class="pre">lang_code</span></code> is <code class="docutils literal notranslate"><span class="pre">'es-ar'</span></code> and <code class="docutils literal notranslate"><span class="pre">'es'</span></code> is in <a class="reference internal" href="settings.html#std-setting-LANGUAGES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">LANGUAGES</span></code></a> but
<code class="docutils literal notranslate"><span class="pre">'es-ar'</span></code> isn’t.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">strict</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default), a country-specific variant may
be returned when neither the language code nor its generic variant is found.
For example, if only <code class="docutils literal notranslate"><span class="pre">'es-co'</span></code> is in <a class="reference internal" href="settings.html#std-setting-LANGUAGES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">LANGUAGES</span></code></a>, that’s
returned for <code class="docutils literal notranslate"><span class="pre">lang_code</span></code>s like <code class="docutils literal notranslate"><span class="pre">'es'</span></code> and <code class="docutils literal notranslate"><span class="pre">'es-ar'</span></code>. Those matches
aren’t returned if <code class="docutils literal notranslate"><span class="pre">strict=True</span></code>.</p>
<p>Raises <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#LookupError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">LookupError</span></code></a> if nothing is found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.to_locale">
<span class="sig-name descname"><span class="pre">to_locale</span></span>(<em class="sig-param"><span class="n"><span class="pre">language</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.to_locale" title="Link to this definition">¶</a></dt>
<dd><p>Turns a language name (en-us) into a locale name (en_US).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gingerdj.utils.translation.templatize">
<span class="sig-name descname"><span class="pre">templatize</span></span>(<em class="sig-param"><span class="n"><span class="pre">src</span></span></em>)<a class="headerlink" href="#gingerdj.utils.translation.templatize" title="Link to this definition">¶</a></dt>
<dd><p>Turns a GingerDJ template into something that is understood by <code class="docutils literal notranslate"><span class="pre">xgettext</span></code>.
It does so by translating the GingerDJ translation tags into standard
<code class="docutils literal notranslate"><span class="pre">gettext</span></code> function invocations.</p>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="validators.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Validators</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="urls.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><code class="docutils literal notranslate"><span class="pre">gingerdj.urls</span></code> functions for use in URLconfs</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Ginger Society and contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Nov 21, 2024</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">GingerDJ Utils</a><ul>
<li><a class="reference internal" href="#module-gingerdj.utils.cache"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.cache</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.dateparse"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.dateparse</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.decorators"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.decorators</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.encoding"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.encoding</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.feedgenerator"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.feedgenerator</span></code></a><ul>
<li><a class="reference internal" href="#syndicationfeed"><code class="docutils literal notranslate"><span class="pre">SyndicationFeed</span></code></a></li>
<li><a class="reference internal" href="#enclosure"><code class="docutils literal notranslate"><span class="pre">Enclosure</span></code></a></li>
<li><a class="reference internal" href="#rssfeed"><code class="docutils literal notranslate"><span class="pre">RssFeed</span></code></a></li>
<li><a class="reference internal" href="#rss201rev2feed"><code class="docutils literal notranslate"><span class="pre">Rss201rev2Feed</span></code></a></li>
<li><a class="reference internal" href="#rssuserland091feed"><code class="docutils literal notranslate"><span class="pre">RssUserland091Feed</span></code></a></li>
<li><a class="reference internal" href="#atom1feed"><code class="docutils literal notranslate"><span class="pre">Atom1Feed</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gingerdj.utils.functional"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.functional</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.html"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.html</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.http"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.http</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.module_loading"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.module_loading</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.safestring"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.safestring</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.text"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.text</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.timezone"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.timezone</span></code></a></li>
<li><a class="reference internal" href="#module-gingerdj.utils.translation"><code class="docutils literal notranslate"><span class="pre">gingerdj.utils.translation</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=c5a15dbd"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>