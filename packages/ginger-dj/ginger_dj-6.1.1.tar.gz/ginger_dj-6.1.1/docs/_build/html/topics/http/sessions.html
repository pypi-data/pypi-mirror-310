<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Working with forms" href="../forms/index.html" /><link rel="prev" title="Middleware" href="middleware.html" />
        <link rel="canonical" href="https://www.gingersociety.org/products/ginger-dj/docs/topics/http/sessions.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>How to use sessions - GingerDJ 6.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d10597a4" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../contents.html"><div class="brand">GingerDJ 6.1.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../contents.html">
  
  
  <span class="sidebar-brand-text">GingerDJ 6.1.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">GingerDJ documentation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../intro/index.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Getting started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../intro/overview.html">GingerDJ at a glance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/install.html">Quick install guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/tutorial01.html">Writing your first GingerDJ app, part 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/tutorial02.html">Writing your first GingerDJ app, part 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/tutorial03.html">Writing your first GingerDJ app, part 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/tutorial04.html">Writing your first GingerDJ app, part 4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/tutorial05.html">Writing your first GingerDJ app, part 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/tutorial06.html">Writing your first GingerDJ app, part 6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/tutorial07.html">Writing your first GingerDJ app, part 7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/tutorial08.html">Writing your first GingerDJ app, part 8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/reusable-apps.html">Advanced tutorial: How to write reusable apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro/whatsnext.html">What to read next</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Using GingerDJ</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Using GingerDJ</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../install.html">How to install GingerDJ</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../db/index.html">Models and databases</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Models and databases</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../db/models.html">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/queries.html">Making queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/aggregation.html">Aggregation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/search.html">Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/managers.html">Managers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/sql.html">Performing raw SQL queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/transactions.html">Database transactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/multi-db.html">Multiple databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/tablespaces.html">Tablespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/optimization.html">Database access optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/instrumentation.html">Database instrumentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../db/fixtures.html">Fixtures</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../db/examples/index.html">Examples of model relationship API usage</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Examples of model relationship API usage</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../db/examples/many_to_many.html">Many-to-many relationships</a></li>
<li class="toctree-l4"><a class="reference internal" href="../db/examples/many_to_one.html">Many-to-one relationships</a></li>
<li class="toctree-l4"><a class="reference internal" href="../db/examples/one_to_one.html">One-to-one relationships</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">Handling HTTP requests</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Handling HTTP requests</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="urls.html">URL dispatcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="views.html">Writing views</a></li>
<li class="toctree-l3"><a class="reference internal" href="decorators.html">View decorators</a></li>
<li class="toctree-l3"><a class="reference internal" href="file-uploads.html">File Uploads</a></li>
<li class="toctree-l3"><a class="reference internal" href="shortcuts.html">GingerDJ shortcut functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="generic-views.html">Generic views</a></li>
<li class="toctree-l3"><a class="reference internal" href="middleware.html">Middleware</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">How to use sessions</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../forms/index.html">Working with forms</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Working with forms</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../forms/formsets.html">Formsets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../forms/modelforms.html">Creating forms from models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../forms/media.html">Form Assets (the <code class="docutils literal notranslate"><span class="pre">Media</span></code> class)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../templates.html">Templates</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../class-based-views/index.html">Class-based views</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Class-based views</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../class-based-views/intro.html">Introduction to class-based views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../class-based-views/generic-display.html">Built-in class-based generic views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../class-based-views/generic-editing.html">Form handling with class-based views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../class-based-views/mixins.html">Using mixins with class-based views</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../migrations.html">Migrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../files.html">Managing files</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../testing/index.html">Testing in GingerDJ</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Testing in GingerDJ</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../testing/overview.html">Writing and running tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../testing/tools.html">Testing tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../testing/advanced.html">Advanced testing topics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cache.html">GingerDJ’s cache framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conditional-view-processing.html">Conditional View Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../signing.html">Cryptographic signing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../email.html">Sending email</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../i18n/index.html">Internationalization and localization</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Internationalization and localization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../i18n/translation.html">Translation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../i18n/formatting.html">Format localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../i18n/timezones.html">Time zones</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pagination.html">Pagination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security.html">Security in GingerDJ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../performance.html">Performance and optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../serialization.html">Serializing GingerDJ objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings.html">GingerDJ settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../signals.html">Signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../checks.html">System check framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../external-packages.html">External packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async.html">Asynchronous support</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../howto/index.html">“How-to” guides</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of “How-to” guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../howto/csrf.html">How to use GingerDJ’s CSRF protection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/custom-management-commands.html">How to create custom <code class="docutils literal notranslate"><span class="pre">gingerdj-admin</span></code> commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/custom-model-fields.html">How to create custom model fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/custom-lookups.html">How to write custom lookups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/custom-template-backend.html">How to implement a custom template backend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/custom-template-tags.html">How to create custom template tags and filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/custom-file-storage.html">How to write a custom storage class</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../howto/deployment/index.html">How to deploy GingerDJ</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of How to deploy GingerDJ</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../howto/deployment/wsgi/index.html">How to deploy with WSGI</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of How to deploy with WSGI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../howto/deployment/wsgi/gunicorn.html">How to use GingerDJ with Gunicorn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../howto/deployment/wsgi/uwsgi.html">How to use GingerDJ with uWSGI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../howto/deployment/wsgi/modwsgi.html">How to use GingerDJ with Apache and <code class="docutils literal notranslate"><span class="pre">mod_wsgi</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../howto/deployment/asgi/index.html">How to deploy with ASGI</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of How to deploy with ASGI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../howto/deployment/asgi/daphne.html">How to use GingerDJ with Daphne</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../howto/deployment/asgi/hypercorn.html">How to use GingerDJ with Hypercorn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../howto/deployment/asgi/uvicorn.html">How to use GingerDJ with Uvicorn</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../howto/deployment/checklist.html">Deployment checklist</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/upgrade-version.html">How to upgrade GingerDJ to a newer version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/error-reporting.html">How to manage error reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/initial-data.html">How to provide initial data for models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/legacy-databases.html">How to integrate GingerDJ with a legacy database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/logging.html">How to configure and use logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/outputting-csv.html">How to create CSV output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/outputting-pdf.html">How to create PDF files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/overriding-templates.html">How to override templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/static-files/index.html">How to manage static files (e.g. images, JavaScript, CSS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/static-files/deployment.html">How to deploy static files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/windows.html">How to install GingerDJ on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/writing-migrations.html">How to create database migrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto/delete-app.html">How to delete a GingerDJ application</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../faq/index.html">GingerDJ FAQ</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of GingerDJ FAQ</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../faq/general.html">FAQ: General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/install.html">FAQ: Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/usage.html">FAQ: Using GingerDJ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/models.html">FAQ: Databases and models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/admin.html">FAQ: The admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ref/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ref/applications.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/checks.html">System check framework</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ref/class-based-views/index.html">Built-in class-based views API</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Built-in class-based views API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ref/class-based-views/base.html">Base views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/class-based-views/generic-display.html">Generic display views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/class-based-views/generic-editing.html">Generic editing views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/class-based-views/generic-date-based.html">Generic date views</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../ref/class-based-views/mixins.html">Class-based views mixins</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Class-based views mixins</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../ref/class-based-views/mixins-simple.html">Simple mixins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/class-based-views/mixins-single-object.html">Single object mixins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/class-based-views/mixins-multiple-object.html">Multiple object mixins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/class-based-views/mixins-editing.html">Editing mixins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/class-based-views/mixins-date-based.html">Date-based mixins</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/class-based-views/flattened-index.html">Class-based generic views - flattened index</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/clickjacking.html">Clickjacking Protection</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ref/contrib/index.html"><code class="docutils literal notranslate"><span class="pre">contrib</span></code> packages</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of contrib packages</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../ref/contrib/admin/index.html">The GingerDJ admin site</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of The GingerDJ admin site</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/admin/actions.html">Admin actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/admin/filters.html"><code class="docutils literal notranslate"><span class="pre">ModelAdmin</span></code> List Filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/admin/admindocs.html">The GingerDJ admin documentation generator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/admin/javascript.html">JavaScript customizations in the admin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/contrib/flatpages.html">The flatpages app</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../ref/contrib/gis/index.html">GeoGinger</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of GeoGinger</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/tutorial.html">GeoGinger Tutorial</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../ref/contrib/gis/install/index.html">GeoGinger Installation</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of GeoGinger Installation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../ref/contrib/gis/install/geolibs.html">Installing Geospatial libraries</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../ref/contrib/gis/install/postgis.html">Installing PostGIS</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../ref/contrib/gis/install/spatialite.html">Installing SpatiaLite</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/model-api.html">GeoGinger Model API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/db-api.html">GeoGinger Database API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/forms-api.html">GeoGinger Forms API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/geoquerysets.html">GIS QuerySet API Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/functions.html">Geographic Database Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/measure.html">Measurement Objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/geos.html">GEOS API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/gdal.html">GDAL API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/geoip2.html">Geolocation with GeoIP2</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../ref/contrib/gis/utils.html">GeoGinger Utilities</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of GeoGinger Utilities</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../ref/contrib/gis/layermapping.html"><code class="docutils literal notranslate"><span class="pre">LayerMapping</span></code> data import utility</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../ref/contrib/gis/ogrinspect.html">OGR Inspection</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../ref/contrib/gis/serializers.html"><code class="docutils literal notranslate"><span class="pre">GeoJSON</span></code> Serializer</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/commands.html">GeoGinger Management Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/admin.html">GeoGinger’s admin site</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/feeds.html">Geographic Feeds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/sitemaps.html">Geographic Sitemaps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/testing.html">Testing GeoGinger apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/gis/deployment.html">Deploying GeoGinger</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/contrib/humanize.html"><code class="docutils literal notranslate"><span class="pre">gingerdj.contrib.humanize</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/contrib/messages.html">The messages framework</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../ref/contrib/postgres/index.html"><code class="docutils literal notranslate"><span class="pre">gingerdj.contrib.postgres</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of gingerdj.contrib.postgres</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/aggregates.html">PostgreSQL specific aggregation functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/constraints.html">PostgreSQL specific database constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/expressions.html">PostgreSQL specific query expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/fields.html">PostgreSQL specific model fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/forms.html">PostgreSQL specific form fields and widgets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/functions.html">PostgreSQL specific database functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/indexes.html">PostgreSQL specific model indexes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/lookups.html">PostgreSQL specific lookups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/operations.html">Database migration operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/search.html">Full text search</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ref/contrib/postgres/validators.html">Validators</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/contrib/redirects.html">The redirects app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/contrib/sitemaps.html">The sitemap framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/contrib/sites.html">The “sites” framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/contrib/staticfiles.html">The <code class="docutils literal notranslate"><span class="pre">staticfiles</span></code> app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/contrib/syndication.html">The syndication feed framework</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/csrf.html">Cross Site Request Forgery protection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/databases.html">Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/gingerdj-admin.html"><code class="docutils literal notranslate"><span class="pre">gingerdj-admin</span></code> and <code class="docutils literal notranslate"><span class="pre">manage.py</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/gingerdj-admin.html#running-management-commands-from-your-code">Running management commands from your code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/exceptions.html">GingerDJ Exceptions</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ref/files/index.html">File handling</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of File handling</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ref/files/file.html">The <code class="docutils literal notranslate"><span class="pre">File</span></code> object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/files/storage.html">File storage API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/files/uploads.html">Uploaded Files and Upload Handlers</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ref/forms/index.html">Forms</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Forms</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ref/forms/api.html">The Forms API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/forms/fields.html">Form fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/forms/models.html">Model Form Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/forms/formsets.html">Formset Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/forms/renderers.html">The form rendering API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/forms/widgets.html">Widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/forms/validation.html">Form and field validation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/middleware.html">Middleware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/migration-operations.html">Migration Operations</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ref/models/index.html">Models</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/fields.html">Model field reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/fields.html#field-attribute-reference">Field attribute reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/indexes.html">Model index reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/constraints.html">Constraints reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/meta.html">Model <code class="docutils literal notranslate"><span class="pre">_meta</span></code> API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/relations.html">Related objects reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/class.html">Model class reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/options.html">Model <code class="docutils literal notranslate"><span class="pre">Meta</span></code> options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/instances.html">Model instance reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/querysets.html"><code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> API reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/lookups.html">Lookup API reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/expressions.html">Query Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/conditional-expressions.html">Conditional Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/models/database-functions.html">Database Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/paginator.html">Paginator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/request-response.html">Request and response objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/schema-editor.html"><code class="docutils literal notranslate"><span class="pre">SchemaEditor</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/settings.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/signals.html">Signals</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ref/templates/index.html">Templates</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Templates</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ref/templates/language.html">The GingerDJ template language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/templates/builtins.html">Built-in template tags and filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/templates/api.html">The GingerDJ template language: for Python programmers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/template-response.html"><code class="docutils literal notranslate"><span class="pre">TemplateResponse</span></code> and <code class="docutils literal notranslate"><span class="pre">SimpleTemplateResponse</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/unicode.html">Unicode data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/urlresolvers.html"><code class="docutils literal notranslate"><span class="pre">gingerdj.urls</span></code> utility functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/urls.html"><code class="docutils literal notranslate"><span class="pre">gingerdj.urls</span></code> functions for use in URLconfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/urls.html#module-gingerdj.conf.urls"><code class="docutils literal notranslate"><span class="pre">gingerdj.conf.urls</span></code> functions for use in URLconfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/utils.html">GingerDJ Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/validators.html">Validators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/views.html">Built-in Views</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../misc/index.html">Meta-documentation and miscellany</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Meta-documentation and miscellany</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../misc/api-stability.html">API stability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../misc/design-philosophies.html">Design philosophies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../_sources/topics/http/sessions.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="s-module-gingerdj.contrib.sessions">
<span id="s-how-to-use-sessions"></span><span id="module-gingerdj.contrib.sessions"></span><span id="how-to-use-sessions"></span><h1>How to use sessions<a class="headerlink" href="#module-gingerdj.contrib.sessions" title="Link to this heading">¶</a></h1>
<p>GingerDJ provides full support for anonymous sessions. The session framework
lets you store and retrieve arbitrary data on a per-site-visitor basis. It
stores data on the server side and abstracts the sending and receiving of
cookies. Cookies contain a session ID – not the data itself (unless you’re
using the <a class="reference internal" href="#cookie-session-backend"><span class="std std-ref">cookie based backend</span></a>).</p>
<section id="s-enabling-sessions">
<span id="enabling-sessions"></span><h2>Enabling sessions<a class="headerlink" href="#enabling-sessions" title="Link to this heading">¶</a></h2>
<p>Sessions are implemented via a piece of <a class="reference internal" href="../../ref/middleware.html"><span class="doc">middleware</span></a>.</p>
<p>To enable session functionality, do the following:</p>
<ul class="simple">
<li><p>Edit the <a class="reference internal" href="../../ref/settings.html#std-setting-MIDDLEWARE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">MIDDLEWARE</span></code></a> setting and make sure it contains
<code class="docutils literal notranslate"><span class="pre">'gingerdj.contrib.sessions.middleware.SessionMiddleware'</span></code>. The default
<code class="docutils literal notranslate"><span class="pre">settings.py</span></code> created by <code class="docutils literal notranslate"><span class="pre">gingerdj-admin</span> <span class="pre">startproject</span></code> has
<code class="docutils literal notranslate"><span class="pre">SessionMiddleware</span></code> activated.</p></li>
</ul>
<p>If you don’t want to use sessions, you might as well remove the
<code class="docutils literal notranslate"><span class="pre">SessionMiddleware</span></code> line from <a class="reference internal" href="../../ref/settings.html#std-setting-MIDDLEWARE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">MIDDLEWARE</span></code></a> and
<code class="docutils literal notranslate"><span class="pre">'gingerdj.contrib.sessions'</span></code> from your <a class="reference internal" href="../../ref/settings.html#std-setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a>.
It’ll save you a small bit of overhead.</p>
</section>
<section id="s-configuring-the-session-engine">
<span id="s-configuring-sessions"></span><span id="configuring-the-session-engine"></span><span id="configuring-sessions"></span><h2>Configuring the session engine<a class="headerlink" href="#configuring-the-session-engine" title="Link to this heading">¶</a></h2>
<p>By default, GingerDJ stores sessions in your database (using the model
<code class="docutils literal notranslate"><span class="pre">gingerdj.contrib.sessions.models.Session</span></code>). Though this is convenient, in
some setups it’s faster to store session data elsewhere, so GingerDJ can be
configured to store session data on your filesystem or in your cache.</p>
<section id="s-using-database-backed-sessions">
<span id="using-database-backed-sessions"></span><h3>Using database-backed sessions<a class="headerlink" href="#using-database-backed-sessions" title="Link to this heading">¶</a></h3>
<p>If you want to use a database-backed session, you need to add
<code class="docutils literal notranslate"><span class="pre">'gingerdj.contrib.sessions'</span></code> to your <a class="reference internal" href="../../ref/settings.html#std-setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a> setting.</p>
<p>Once you have configured your installation, run <code class="docutils literal notranslate"><span class="pre">manage.py</span> <span class="pre">migrate</span></code>
to install the single database table that stores session data.</p>
</section>
<section id="s-using-cached-sessions">
<span id="s-cached-sessions-backend"></span><span id="using-cached-sessions"></span><span id="cached-sessions-backend"></span><h3>Using cached sessions<a class="headerlink" href="#using-cached-sessions" title="Link to this heading">¶</a></h3>
<p>For better performance, you may want to use a cache-based session backend.</p>
<p>To store session data using GingerDJ’s cache system, you’ll first need to make
sure you’ve configured your cache; see the <a class="reference internal" href="../cache.html"><span class="doc">cache documentation</span></a> for details.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You should only use cache-based sessions if you’re using the Memcached or
Redis cache backend. The local-memory cache backend doesn’t retain data
long enough to be a good choice, and it’ll be faster to use file or
database sessions directly instead of sending everything through the file
or database cache backends. Additionally, the local-memory cache backend is
NOT multi-process safe, therefore probably not a good choice for production
environments.</p>
</div>
<p>If you have multiple caches defined in <a class="reference internal" href="../../ref/settings.html#std-setting-CACHES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CACHES</span></code></a>, GingerDJ will use the
default cache. To use another cache, set <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_CACHE_ALIAS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_CACHE_ALIAS</span></code></a> to the
name of that cache.</p>
<p>Once your cache is configured, you have to choose between a database-backed
cache or a non-persistent cache.</p>
<p>The cached database backend (<code class="docutils literal notranslate"><span class="pre">cached_db</span></code>) uses a write-through cache –
session writes are applied to both the database and cache, in that order. If
writing to the cache fails, the exception is handled and logged via the
<a class="reference internal" href="../../ref/logging.html#gingerdj-contrib-sessions-logger"><span class="std std-ref">sessions logger</span></a>, to avoid failing an
otherwise successful write operation.</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p>Handling and logging of exceptions when writing to the cache was added.</p>
</div>
<p>Session reads use the cache, or the database if the data has been evicted from
the cache. To use this backend, set <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_ENGINE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_ENGINE</span></code></a> to
<code class="docutils literal notranslate"><span class="pre">&quot;gingerdj.contrib.sessions.backends.cached_db&quot;</span></code>, and follow the configuration
instructions for the <a class="reference internal" href="#using-database-backed-sessions">using database-backed sessions</a>.</p>
<p>The cache backend (<code class="docutils literal notranslate"><span class="pre">cache</span></code>) stores session data only in your cache. This is
faster because it avoids database persistence, but you will have to consider
what happens when cache data is evicted. Eviction can occur if the cache fills
up or the cache server is restarted, and it will mean session data is lost,
including logging out users. To use this backend, set <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_ENGINE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_ENGINE</span></code></a>
to <code class="docutils literal notranslate"><span class="pre">&quot;gingerdj.contrib.sessions.backends.cache&quot;</span></code>.</p>
<p>The cache backend can be made persistent by using a persistent cache, such as
Redis with appropriate configuration. But unless your cache is definitely
configured for sufficient persistence, opt for the cached database backend.
This avoids edge cases caused by unreliable data storage in production.</p>
</section>
<section id="s-using-file-based-sessions">
<span id="using-file-based-sessions"></span><h3>Using file-based sessions<a class="headerlink" href="#using-file-based-sessions" title="Link to this heading">¶</a></h3>
<p>To use file-based sessions, set the <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_ENGINE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_ENGINE</span></code></a> setting to
<code class="docutils literal notranslate"><span class="pre">&quot;gingerdj.contrib.sessions.backends.file&quot;</span></code>.</p>
<p>You might also want to set the <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_FILE_PATH"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_FILE_PATH</span></code></a> setting (which
defaults to output from <code class="docutils literal notranslate"><span class="pre">tempfile.gettempdir()</span></code>, most likely <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>) to
control where GingerDJ stores session files. Be sure to check that your web
server has permissions to read and write to this location.</p>
</section>
<section id="s-using-cookie-based-sessions">
<span id="s-cookie-session-backend"></span><span id="using-cookie-based-sessions"></span><span id="cookie-session-backend"></span><h3>Using cookie-based sessions<a class="headerlink" href="#using-cookie-based-sessions" title="Link to this heading">¶</a></h3>
<p>To use cookies-based sessions, set the <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_ENGINE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_ENGINE</span></code></a> setting to
<code class="docutils literal notranslate"><span class="pre">&quot;gingerdj.contrib.sessions.backends.signed_cookies&quot;</span></code>. The session data will be
stored using GingerDJ’s tools for <a class="reference internal" href="../signing.html"><span class="doc">cryptographic signing</span></a>
and the <a class="reference internal" href="../../ref/settings.html#std-setting-SECRET_KEY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SECRET_KEY</span></code></a> setting.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It’s recommended to leave the <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_HTTPONLY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_HTTPONLY</span></code></a> setting
on <code class="docutils literal notranslate"><span class="pre">True</span></code> to prevent access to the stored data from JavaScript.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>The session data is signed but not encrypted</strong></p>
<p>When using the cookies backend the session data can be read by the client.</p>
<p>A MAC (Message Authentication Code) is used to protect the data against
changes by the client, so that the session data will be invalidated when being
tampered with. The same invalidation happens if the client storing the
cookie (e.g. your user’s browser) can’t store all of the session cookie and
drops data. Even though GingerDJ compresses the data, it’s still entirely
possible to exceed the <span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html#section-5.3"><strong>common limit of 4096 bytes</strong></a>
per cookie.</p>
<p><strong>No freshness guarantee</strong></p>
<p>Note also that while the MAC can guarantee the authenticity of the data
(that it was generated by your site, and not someone else), and the
integrity of the data (that it is all there and correct), it cannot
guarantee freshness i.e. that you are being sent back the last thing you
sent to the client. This means that for some uses of session data, the
cookie backend might open you up to <a class="reference external" href="https://en.wikipedia.org/wiki/Replay_attack">replay attacks</a>. Unlike other session
backends which keep a server-side record of each session and invalidate it
when a user logs out, cookie-based sessions are not invalidated when a user
logs out. Thus if an attacker steals a user’s cookie, they can use that
cookie to login as that user even if the user logs out. Cookies will only
be detected as ‘stale’ if they are older than your
<a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_AGE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_AGE</span></code></a>.</p>
<p><strong>Performance</strong></p>
<p>Finally, the size of a cookie can have an impact on the speed of your site.</p>
</div>
</section>
</section>
<section id="s-using-sessions-in-views">
<span id="using-sessions-in-views"></span><h2>Using sessions in views<a class="headerlink" href="#using-sessions-in-views" title="Link to this heading">¶</a></h2>
<p>When <code class="docutils literal notranslate"><span class="pre">SessionMiddleware</span></code> is activated, each <a class="reference internal" href="../../ref/request-response.html#gingerdj.http.HttpRequest" title="gingerdj.http.HttpRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpRequest</span></code></a>
object – the first argument to any GingerDJ view function – will have a
<code class="docutils literal notranslate"><span class="pre">session</span></code> attribute, which is a dictionary-like object.</p>
<p>You can read it and write to <code class="docutils literal notranslate"><span class="pre">request.session</span></code> at any point in your view.
You can edit it multiple times.</p>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">backends.base.</span></span><span class="sig-name descname"><span class="pre">SessionBase</span></span><a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase" title="Link to this definition">¶</a></dt>
<dd><p>This is the base class for all session objects. It has the following
standard dictionary methods:</p>
<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.__getitem__" title="Link to this definition">¶</a></dt>
<dd><p>Example: <code class="docutils literal notranslate"><span class="pre">fav_color</span> <span class="pre">=</span> <span class="pre">request.session['fav_color']</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.__setitem__" title="Link to this definition">¶</a></dt>
<dd><p>Example: <code class="docutils literal notranslate"><span class="pre">request.session['fav_color']</span> <span class="pre">=</span> <span class="pre">'blue'</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.__delitem__">
<span class="sig-name descname"><span class="pre">__delitem__</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.__delitem__" title="Link to this definition">¶</a></dt>
<dd><p>Example: <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">request.session['fav_color']</span></code>. This raises <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>
if the given <code class="docutils literal notranslate"><span class="pre">key</span></code> isn’t already in the session.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.__contains__" title="Link to this definition">¶</a></dt>
<dd><p>Example: <code class="docutils literal notranslate"><span class="pre">'fav_color'</span> <span class="pre">in</span> <span class="pre">request.session</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.get">
<span class="sig-name descname"><span class="pre">get</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.get" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aget">
<span class="sig-name descname"><span class="pre">aget</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aget" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aget()</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">fav_color</span> <span class="pre">=</span> <span class="pre">request.session.get('fav_color',</span> <span class="pre">'red')</span></code></p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aget()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aset">
<span class="sig-name descname"><span class="pre">aset</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aset" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<span class="title">New in GingerDJ Development version.</span> </div>
<p>Example: <code class="docutils literal notranslate"><span class="pre">await</span> <span class="pre">request.session.aset('fav_color',</span> <span class="pre">'red')</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.update">
<span class="sig-name descname"><span class="pre">update</span></span>(<em class="sig-param"><span class="n"><span class="pre">dict</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.update" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aupdate">
<span class="sig-name descname"><span class="pre">aupdate</span></span>(<em class="sig-param"><span class="n"><span class="pre">dict</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aupdate" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aupdate()</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">request.session.update({'fav_color':</span> <span class="pre">'red'})</span></code></p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aupdate()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.pop">
<span class="sig-name descname"><span class="pre">pop</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">__not_given</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.pop" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.apop">
<span class="sig-name descname"><span class="pre">apop</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">__not_given</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.apop" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">apop()</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">fav_color</span> <span class="pre">=</span> <span class="pre">request.session.pop('fav_color',</span> <span class="pre">'blue')</span></code></p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">apop()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.keys">
<span class="sig-name descname"><span class="pre">keys</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.keys" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.akeys">
<span class="sig-name descname"><span class="pre">akeys</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.akeys" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">akeys()</span></code></p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">akeys()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.values">
<span class="sig-name descname"><span class="pre">values</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.values" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.avalues">
<span class="sig-name descname"><span class="pre">avalues</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.avalues" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">avalues()</span></code></p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">avalues()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.has_key">
<span class="sig-name descname"><span class="pre">has_key</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.has_key" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.ahas_key">
<span class="sig-name descname"><span class="pre">ahas_key</span></span>(<em class="sig-param"><span class="n"><span class="pre">key</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.ahas_key" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">ahas_key()</span></code></p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">ahas_key()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.items">
<span class="sig-name descname"><span class="pre">items</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.items" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aitems">
<span class="sig-name descname"><span class="pre">aitems</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aitems" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aitems()</span></code></p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aitems()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.setdefault" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.asetdefault">
<span class="sig-name descname"><span class="pre">asetdefault</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.asetdefault" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">asetdefault()</span></code></p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">asetdefault()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.clear">
<span class="sig-name descname"><span class="pre">clear</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.clear" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>It also has these methods:</p>
<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.flush">
<span class="sig-name descname"><span class="pre">flush</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.flush" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aflush">
<span class="sig-name descname"><span class="pre">aflush</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aflush" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aflush()</span></code></p>
<p>Deletes the current session data from the session and deletes the session
cookie. This is used if you want to ensure that the previous session data
can’t be accessed again from the user’s browser</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aflush()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.set_test_cookie">
<span class="sig-name descname"><span class="pre">set_test_cookie</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.set_test_cookie" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aset_test_cookie">
<span class="sig-name descname"><span class="pre">aset_test_cookie</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aset_test_cookie" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aset_test_cookie()</span></code></p>
<p>Sets a test cookie to determine whether the user’s browser supports
cookies. Due to the way cookies work, you won’t be able to test this
until the user’s next page request. See <a class="reference internal" href="#setting-test-cookies">Setting test cookies</a> below for
more information.</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aset_test_cookie()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.test_cookie_worked">
<span class="sig-name descname"><span class="pre">test_cookie_worked</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.test_cookie_worked" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.atest_cookie_worked">
<span class="sig-name descname"><span class="pre">atest_cookie_worked</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.atest_cookie_worked" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">atest_cookie_worked()</span></code></p>
<p>Returns either <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>, depending on whether the user’s
browser accepted the test cookie. Due to the way cookies work, you’ll
have to call <code class="docutils literal notranslate"><span class="pre">set_test_cookie()</span></code> or <code class="docutils literal notranslate"><span class="pre">aset_test_cookie()</span></code> on a
previous, separate page request.
See <a class="reference internal" href="#setting-test-cookies">Setting test cookies</a> below for more information.</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">atest_cookie_worked()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.delete_test_cookie">
<span class="sig-name descname"><span class="pre">delete_test_cookie</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.delete_test_cookie" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.adelete_test_cookie">
<span class="sig-name descname"><span class="pre">adelete_test_cookie</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.adelete_test_cookie" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">adelete_test_cookie()</span></code></p>
<p>Deletes the test cookie. Use this to clean up after yourself.</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">adelete_test_cookie()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.get_session_cookie_age">
<span class="sig-name descname"><span class="pre">get_session_cookie_age</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.get_session_cookie_age" title="Link to this definition">¶</a></dt>
<dd><p>Returns the value of the setting <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_AGE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_AGE</span></code></a>. This can
be overridden in a custom session backend.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.set_expiry">
<span class="sig-name descname"><span class="pre">set_expiry</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.set_expiry" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aset_expiry">
<span class="sig-name descname"><span class="pre">aset_expiry</span></span>(<em class="sig-param"><span class="n"><span class="pre">value</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aset_expiry" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aset_expiry()</span></code></p>
<p>Sets the expiration time for the session. You can pass a number of
different values:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">value</span></code> is an integer, the session will expire after that
many seconds of inactivity. For example, calling
<code class="docutils literal notranslate"><span class="pre">request.session.set_expiry(300)</span></code> would make the session expire
in 5 minutes.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">value</span></code> is a <code class="docutils literal notranslate"><span class="pre">datetime</span></code> or <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> object, the session
will expire at that specific date/time.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">value</span></code> is <code class="docutils literal notranslate"><span class="pre">0</span></code>, the user’s session cookie will expire
when the user’s web browser is closed.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">value</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the session reverts to using the global
session expiry policy.</p></li>
</ul>
<p>Reading a session is not considered activity for expiration
purposes. Session expiration is computed from the last time the
session was <em>modified</em>.</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aset_expiry()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.get_expiry_age">
<span class="sig-name descname"><span class="pre">get_expiry_age</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.get_expiry_age" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aget_expiry_age">
<span class="sig-name descname"><span class="pre">aget_expiry_age</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aget_expiry_age" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aget_expiry_age()</span></code></p>
<p>Returns the number of seconds until this session expires. For sessions
with no custom expiration (or those set to expire at browser close), this
will equal <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_AGE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_AGE</span></code></a>.</p>
<p>This function accepts two optional keyword arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modification</span></code>: last modification of the session, as a
<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> object. Defaults to the current time.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expiry</span></code>: expiry information for the session, as a
<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> object, an <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> (in seconds), or
<code class="docutils literal notranslate"><span class="pre">None</span></code>. Defaults to the value stored in the session by
<a class="reference internal" href="#gingerdj.contrib.sessions.backends.base.SessionBase.set_expiry" title="gingerdj.contrib.sessions.backends.base.SessionBase.set_expiry"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_expiry()</span></code></a>/<a class="reference internal" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aset_expiry" title="gingerdj.contrib.sessions.backends.base.SessionBase.aset_expiry"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aset_expiry()</span></code></a>, if there is one, or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is used by session backends to determine the session expiry
age in seconds when saving the session. It is not really intended for
usage outside of that context.</p>
<p>In particular, while it is <strong>possible</strong> to determine the remaining
lifetime of a session <strong>just when</strong> you have the correct
<code class="docutils literal notranslate"><span class="pre">modification</span></code> value <strong>and</strong> the <code class="docutils literal notranslate"><span class="pre">expiry</span></code> is set as a <code class="docutils literal notranslate"><span class="pre">datetime</span></code>
object, where you do have the <code class="docutils literal notranslate"><span class="pre">modification</span></code> value, it is more
straight-forward to calculate the expiry by-hand:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">expires_at</span> <span class="o">=</span> <span class="n">modification</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">SESSION_COOKIE_AGE</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aget_expiry_age()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.get_expiry_date">
<span class="sig-name descname"><span class="pre">get_expiry_date</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.get_expiry_date" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aget_expiry_date">
<span class="sig-name descname"><span class="pre">aget_expiry_date</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aget_expiry_date" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aget_expiry_date()</span></code></p>
<p>Returns the date this session will expire. For sessions with no custom
expiration (or those set to expire at browser close), this will equal the
date <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_AGE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_AGE</span></code></a> seconds from now.</p>
<p>This function accepts the same keyword arguments as
<a class="reference internal" href="#gingerdj.contrib.sessions.backends.base.SessionBase.get_expiry_age" title="gingerdj.contrib.sessions.backends.base.SessionBase.get_expiry_age"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_expiry_age()</span></code></a>, and similar notes on usage apply.</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aget_expiry_date()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.get_expire_at_browser_close">
<span class="sig-name descname"><span class="pre">get_expire_at_browser_close</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.get_expire_at_browser_close" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aget_expire_at_browser_close">
<span class="sig-name descname"><span class="pre">aget_expire_at_browser_close</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aget_expire_at_browser_close" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aget_expire_at_browser_close()</span></code></p>
<p>Returns either <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>, depending on whether the user’s
session cookie will expire when the user’s web browser is closed.</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aget_expire_at_browser_close()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.clear_expired">
<span class="sig-name descname"><span class="pre">clear_expired</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.clear_expired" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.aclear_expired">
<span class="sig-name descname"><span class="pre">aclear_expired</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aclear_expired" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aclear_expired()</span></code></p>
<p>Removes expired sessions from the session store. This class method is
called by <a class="reference internal" href="../../ref/gingerdj-admin.html#gingerdj-admin-clearsessions"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">clearsessions</span></code></a>.</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aclear_expired()</span></code> function was added.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.cycle_key">
<span class="sig-name descname"><span class="pre">cycle_key</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.cycle_key" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.base.SessionBase.acycle_key">
<span class="sig-name descname"><span class="pre">acycle_key</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.base.SessionBase.acycle_key" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">acycle_key()</span></code></p>
<p>Creates a new session key while retaining the current session data.</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">acycle_key()</span></code> function was added.</p>
</div>
</dd></dl>

</dd></dl>

<section id="s-session-serialization">
<span id="s-id1"></span><span id="session-serialization"></span><span id="id1"></span><h3>Session serialization<a class="headerlink" href="#session-serialization" title="Link to this heading">¶</a></h3>
<p>By default, GingerDJ serializes session data using JSON. You can use the
<a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_SERIALIZER"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_SERIALIZER</span></code></a> setting to customize the session serialization
format. Even with the caveats described in <a class="reference internal" href="#custom-serializers"><span class="std std-ref">Write your own serializer</span></a>, we highly
recommend sticking with JSON serialization <em>especially if you are using the
cookie backend</em>.</p>
<p>For example, here’s an attack scenario if you use <a class="reference external" href="https://docs.python.org/3/library/pickle.html#module-pickle" title="(in Python v3.13)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> to serialize
session data. If you’re using the <a class="reference internal" href="#cookie-session-backend"><span class="std std-ref">signed cookie session backend</span></a> and <a class="reference internal" href="../../ref/settings.html#std-setting-SECRET_KEY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SECRET_KEY</span></code></a> (or any key of
<a class="reference internal" href="../../ref/settings.html#std-setting-SECRET_KEY_FALLBACKS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SECRET_KEY_FALLBACKS</span></code></a>) is known by an attacker (there isn’t an
inherent vulnerability in GingerDJ that would cause it to leak), the attacker
could insert a string into their session which, when unpickled, executes
arbitrary code on the server. The technique for doing so is simple and easily
available on the internet. Although the cookie session storage signs the
cookie-stored data to prevent tampering, a <a class="reference internal" href="../../ref/settings.html#std-setting-SECRET_KEY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SECRET_KEY</span></code></a> leak
immediately escalates to a remote code execution vulnerability.</p>
<section id="s-bundled-serializers">
<span id="bundled-serializers"></span><h4>Bundled serializers<a class="headerlink" href="#bundled-serializers" title="Link to this heading">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.serializers.JSONSerializer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">serializers.</span></span><span class="sig-name descname"><span class="pre">JSONSerializer</span></span><a class="headerlink" href="#gingerdj.contrib.sessions.serializers.JSONSerializer" title="Link to this definition">¶</a></dt>
<dd><p>A wrapper around the JSON serializer from <a class="reference internal" href="../signing.html#module-gingerdj.core.signing" title="gingerdj.core.signing: GingerDJ's signing framework."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gingerdj.core.signing</span></code></a>. Can
only serialize basic data types.</p>
<p>In addition, as JSON supports only string keys, note that using non-string
keys in <code class="docutils literal notranslate"><span class="pre">request.session</span></code> won’t work as expected:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># initial assignment</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bar&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># subsequent requests following serialization &amp; deserialization</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># of session data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># KeyError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
<span class="go">&#39;bar&#39;</span>
</pre></div>
</div>
<p>Similarly, data that can’t be encoded in JSON, such as non-UTF8 bytes like
<code class="docutils literal notranslate"><span class="pre">'\xd9'</span></code> (which raises <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#UnicodeDecodeError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnicodeDecodeError</span></code></a>), can’t be stored.</p>
<p>See the <a class="reference internal" href="#custom-serializers"><span class="std std-ref">Write your own serializer</span></a> section for more details on limitations
of JSON serialization.</p>
</dd></dl>

</section>
<section id="s-write-your-own-serializer">
<span id="s-custom-serializers"></span><span id="write-your-own-serializer"></span><span id="custom-serializers"></span><h4>Write your own serializer<a class="headerlink" href="#write-your-own-serializer" title="Link to this heading">¶</a></h4>
<p>Note that the <a class="reference internal" href="#gingerdj.contrib.sessions.serializers.JSONSerializer" title="gingerdj.contrib.sessions.serializers.JSONSerializer"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONSerializer</span></code></a>
cannot handle arbitrary Python data types. As is often the case, there is a
trade-off between convenience and security. If you wish to store more advanced
data types including <code class="docutils literal notranslate"><span class="pre">datetime</span></code> and <code class="docutils literal notranslate"><span class="pre">Decimal</span></code> in JSON backed sessions, you
will need to write a custom serializer (or convert such values to a JSON
serializable object before storing them in <code class="docutils literal notranslate"><span class="pre">request.session</span></code>). While
serializing these values is often straightforward
(<a class="reference internal" href="../serialization.html#gingerdj.core.serializers.json.GingerJSONEncoder" title="gingerdj.core.serializers.json.GingerJSONEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">GingerJSONEncoder</span></code></a> may be helpful),
writing a decoder that can reliably get back the same thing that you put in is
more fragile. For example, you run the risk of returning a <code class="docutils literal notranslate"><span class="pre">datetime</span></code> that
was actually a string that just happened to be in the same format chosen for
<code class="docutils literal notranslate"><span class="pre">datetime</span></code>s).</p>
<p>Your serializer class must implement two methods,
<code class="docutils literal notranslate"><span class="pre">dumps(self,</span> <span class="pre">obj)</span></code> and <code class="docutils literal notranslate"><span class="pre">loads(self,</span> <span class="pre">data)</span></code>, to serialize and deserialize
the dictionary of session data, respectively.</p>
</section>
</section>
<section id="s-session-object-guidelines">
<span id="session-object-guidelines"></span><h3>Session object guidelines<a class="headerlink" href="#session-object-guidelines" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Use normal Python strings as dictionary keys on <code class="docutils literal notranslate"><span class="pre">request.session</span></code>. This
is more of a convention than a hard-and-fast rule.</p></li>
<li><p>Session dictionary keys that begin with an underscore are reserved for
internal use by GingerDJ.</p></li>
<li><p>Don’t override <code class="docutils literal notranslate"><span class="pre">request.session</span></code> with a new object, and don’t access or
set its attributes. Use it like a Python dictionary.</p></li>
</ul>
</section>
<section id="s-examples">
<span id="examples"></span><h3>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h3>
<p>This simplistic view sets a <code class="docutils literal notranslate"><span class="pre">has_commented</span></code> variable to <code class="docutils literal notranslate"><span class="pre">True</span></code> after a user
posts a comment. It doesn’t let a user post a comment more than once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">post_comment</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">new_comment</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;has_commented&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;You&#39;ve already commented.&quot;</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">comments</span><span class="o">.</span><span class="n">Comment</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="n">new_comment</span><span class="p">)</span>
    <span class="n">c</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s2">&quot;has_commented&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;Thanks for your comment!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This simplistic view logs in a “member” of the site:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">Member</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">check_password</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]):</span>
        <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s2">&quot;member_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">id</span>
        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;You&#39;re logged in.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;Your username and password didn&#39;t match.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>…And this one logs a member out, according to <code class="docutils literal notranslate"><span class="pre">login()</span></code> above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">logout</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s2">&quot;member_id&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;You&#39;re logged out.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="s-setting-test-cookies">
<span id="setting-test-cookies"></span><h2>Setting test cookies<a class="headerlink" href="#setting-test-cookies" title="Link to this heading">¶</a></h2>
<p>As a convenience, GingerDJ provides a way to test whether the user’s browser
accepts cookies. Call the <a class="reference internal" href="#gingerdj.contrib.sessions.backends.base.SessionBase.set_test_cookie" title="gingerdj.contrib.sessions.backends.base.SessionBase.set_test_cookie"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_test_cookie()</span></code></a>
method of <code class="docutils literal notranslate"><span class="pre">request.session</span></code> in a view, and call
<a class="reference internal" href="#gingerdj.contrib.sessions.backends.base.SessionBase.test_cookie_worked" title="gingerdj.contrib.sessions.backends.base.SessionBase.test_cookie_worked"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_cookie_worked()</span></code></a> in a subsequent view –
not in the same view call.</p>
<p>This awkward split between <code class="docutils literal notranslate"><span class="pre">set_test_cookie()</span></code> and <code class="docutils literal notranslate"><span class="pre">test_cookie_worked()</span></code>
is necessary due to the way cookies work. When you set a cookie, you can’t
actually tell whether a browser accepted it until the browser’s next request.</p>
<p>It’s good practice to use
<a class="reference internal" href="#gingerdj.contrib.sessions.backends.base.SessionBase.delete_test_cookie" title="gingerdj.contrib.sessions.backends.base.SessionBase.delete_test_cookie"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_test_cookie()</span></code></a> to clean up after
yourself. Do this after you’ve verified that the test cookie worked.</p>
<p>Here’s a typical usage example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gingerdj.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
<span class="kn">from</span> <span class="nn">gingerdj.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>


<span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">test_cookie_worked</span><span class="p">():</span>
            <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">delete_test_cookie</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;You&#39;re logged in.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;Please enable cookies and try again.&quot;</span><span class="p">)</span>
    <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">set_test_cookie</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;foo/login_form.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p>Support for setting test cookies in asynchronous view functions was added.</p>
</div>
</section>
<section id="s-using-sessions-out-of-views">
<span id="using-sessions-out-of-views"></span><h2>Using sessions out of views<a class="headerlink" href="#using-sessions-out-of-views" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The examples in this section import the <code class="docutils literal notranslate"><span class="pre">SessionStore</span></code> object directly
from the <code class="docutils literal notranslate"><span class="pre">gingerdj.contrib.sessions.backends.db</span></code> backend. In your own code,
you should consider importing <code class="docutils literal notranslate"><span class="pre">SessionStore</span></code> from the session engine
designated by <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_ENGINE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_ENGINE</span></code></a>, as below:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">importlib</span> <span class="kn">import</span> <span class="n">import_module</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gingerdj.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SessionStore</span> <span class="o">=</span> <span class="n">import_module</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">SESSION_ENGINE</span><span class="p">)</span><span class="o">.</span><span class="n">SessionStore</span>
</pre></div>
</div>
</div>
<p>An API is available to manipulate session data outside of a view:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gingerdj.contrib.sessions.backends.db</span> <span class="kn">import</span> <span class="n">SessionStore</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">SessionStore</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># stored as seconds since epoch since datetimes are not serializable in JSON.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="s2">&quot;last_login&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1376587691</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">session_key</span>
<span class="go">&#39;2b1189a188b44ad18c35e113ac6ceead&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">SessionStore</span><span class="p">(</span><span class="n">session_key</span><span class="o">=</span><span class="s2">&quot;2b1189a188b44ad18c35e113ac6ceead&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="s2">&quot;last_login&quot;</span><span class="p">]</span>
<span class="go">1376587691</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">SessionStore.create()</span></code> is designed to create a new session (i.e. one not
loaded from the session store and with <code class="docutils literal notranslate"><span class="pre">session_key=None</span></code>). <code class="docutils literal notranslate"><span class="pre">save()</span></code> is
designed to save an existing session (i.e. one loaded from the session store).
Calling <code class="docutils literal notranslate"><span class="pre">save()</span></code> on a new session may also work but has a small chance of
generating a <code class="docutils literal notranslate"><span class="pre">session_key</span></code> that collides with an existing one. <code class="docutils literal notranslate"><span class="pre">create()</span></code>
calls <code class="docutils literal notranslate"><span class="pre">save()</span></code> and loops until an unused <code class="docutils literal notranslate"><span class="pre">session_key</span></code> is generated.</p>
<p>If you’re using the <code class="docutils literal notranslate"><span class="pre">gingerdj.contrib.sessions.backends.db</span></code> backend, each
session is a normal GingerDJ model. The <code class="docutils literal notranslate"><span class="pre">Session</span></code> model is defined in
<a class="extlink-source reference external" href="https://github.com/gingerdj/gingerdj/blob/main/gingerdj/contrib/sessions/models.py">gingerdj/contrib/sessions/models.py</a>. Because it’s a normal model, you can
access sessions using the normal GingerDJ database API:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gingerdj.contrib.sessions.models</span> <span class="kn">import</span> <span class="n">Session</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Session</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="s2">&quot;2b1189a188b44ad18c35e113ac6ceead&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">expire_date</span>
<span class="go">datetime.datetime(2005, 8, 20, 13, 35, 12)</span>
</pre></div>
</div>
<p>Note that you’ll need to call
<a class="reference internal" href="#gingerdj.contrib.sessions.base_session.AbstractBaseSession.get_decoded" title="gingerdj.contrib.sessions.base_session.AbstractBaseSession.get_decoded"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_decoded()</span></code></a> to get the session
dictionary. This is necessary because the dictionary is stored in an encoded
format:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">session_data</span>
<span class="go">&#39;KGRwMQpTJ19hdXRoX3VzZXJfaWQnCnAyCkkxCnMuMTExY2ZjODI2Yj...&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_decoded</span><span class="p">()</span>
<span class="go">{&#39;user_id&#39;: 42}</span>
</pre></div>
</div>
</section>
<section id="s-when-sessions-are-saved">
<span id="when-sessions-are-saved"></span><h2>When sessions are saved<a class="headerlink" href="#when-sessions-are-saved" title="Link to this heading">¶</a></h2>
<p>By default, GingerDJ only saves to the session database when the session has been
modified – that is if any of its dictionary values have been assigned or
deleted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Session is modified.</span>
<span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;bar&quot;</span>

<span class="c1"># Session is modified.</span>
<span class="k">del</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">]</span>

<span class="c1"># Session is modified.</span>
<span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># Gotcha: Session is NOT modified, because this alters</span>
<span class="c1"># request.session[&#39;foo&#39;] instead of request.session.</span>
<span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">][</span><span class="s2">&quot;bar&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;baz&quot;</span>
</pre></div>
</div>
<p>In the last case of the above example, we can tell the session object
explicitly that it has been modified by setting the <code class="docutils literal notranslate"><span class="pre">modified</span></code> attribute on
the session object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">modified</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>To change this default behavior, set the <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_SAVE_EVERY_REQUEST"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_SAVE_EVERY_REQUEST</span></code></a>
setting to <code class="docutils literal notranslate"><span class="pre">True</span></code>. When set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, GingerDJ will save the session to the
database on every single request.</p>
<p>Note that the session cookie is only sent when a session has been created or
modified. If <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_SAVE_EVERY_REQUEST"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_SAVE_EVERY_REQUEST</span></code></a> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the session
cookie will be sent on every request.</p>
<p>Similarly, the <code class="docutils literal notranslate"><span class="pre">expires</span></code> part of a session cookie is updated each time the
session cookie is sent.</p>
<p>The session is not saved if the response’s status code is 500.</p>
</section>
<section id="s-browser-length-sessions-vs-persistent-sessions">
<span id="s-browser-length-vs-persistent-sessions"></span><span id="browser-length-sessions-vs-persistent-sessions"></span><span id="browser-length-vs-persistent-sessions"></span><h2>Browser-length sessions vs. persistent sessions<a class="headerlink" href="#browser-length-sessions-vs-persistent-sessions" title="Link to this heading">¶</a></h2>
<p>You can control whether the session framework uses browser-length sessions vs.
persistent sessions with the <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_EXPIRE_AT_BROWSER_CLOSE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_EXPIRE_AT_BROWSER_CLOSE</span></code></a>
setting.</p>
<p>By default, <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_EXPIRE_AT_BROWSER_CLOSE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_EXPIRE_AT_BROWSER_CLOSE</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>,
which means session cookies will be stored in users’ browsers for as long as
<a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_AGE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_AGE</span></code></a>. Use this if you don’t want people to have to
log in every time they open a browser.</p>
<p>If <a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_EXPIRE_AT_BROWSER_CLOSE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_EXPIRE_AT_BROWSER_CLOSE</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, GingerDJ will
use browser-length cookies – cookies that expire as soon as the user closes
their browser. Use this if you want people to have to log in every time they
open a browser.</p>
<p>This setting is a global default and can be overwritten at a per-session level
by explicitly calling the <a class="reference internal" href="#gingerdj.contrib.sessions.backends.base.SessionBase.set_expiry" title="gingerdj.contrib.sessions.backends.base.SessionBase.set_expiry"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_expiry()</span></code></a> method
of <code class="docutils literal notranslate"><span class="pre">request.session</span></code> as described above in <a class="reference internal" href="#using-sessions-in-views">using sessions in views</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some browsers (Chrome, for example) provide settings that allow users to
continue browsing sessions after closing and reopening the browser. In
some cases, this can interfere with the
<a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_EXPIRE_AT_BROWSER_CLOSE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_EXPIRE_AT_BROWSER_CLOSE</span></code></a> setting and prevent sessions
from expiring on browser close. Please be aware of this while testing
GingerDJ applications which have the
<a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_EXPIRE_AT_BROWSER_CLOSE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_EXPIRE_AT_BROWSER_CLOSE</span></code></a> setting enabled.</p>
</div>
</section>
<section id="s-clearing-the-session-store">
<span id="s-id2"></span><span id="clearing-the-session-store"></span><span id="id2"></span><h2>Clearing the session store<a class="headerlink" href="#clearing-the-session-store" title="Link to this heading">¶</a></h2>
<p>As users create new sessions on your website, session data can accumulate in
your session store. If you’re using the database backend, the
<code class="docutils literal notranslate"><span class="pre">ginger_session</span></code> database table will grow. If you’re using the file backend,
your temporary directory will contain an increasing number of files.</p>
<p>To understand this problem, consider what happens with the database backend.
When a user logs in, GingerDJ adds a row to the <code class="docutils literal notranslate"><span class="pre">ginger_session</span></code> database
table. GingerDJ updates this row each time the session data changes. If the user
logs out manually, GingerDJ deletes the row. But if the user does <em>not</em> log out,
the row never gets deleted. A similar process happens with the file backend.</p>
<p>GingerDJ does <em>not</em> provide automatic purging of expired sessions. Therefore,
it’s your job to purge expired sessions on a regular basis. GingerDJ provides a
clean-up management command for this purpose: <a class="reference internal" href="../../ref/gingerdj-admin.html#gingerdj-admin-clearsessions"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">clearsessions</span></code></a>. It’s
recommended to call this command on a regular basis, for example as a daily
cron job.</p>
<p>Note that the cache backend isn’t vulnerable to this problem, because caches
automatically delete stale data. Neither is the cookie backend, because the
session data is stored by the users’ browsers.</p>
</section>
<section id="s-settings">
<span id="settings"></span><h2>Settings<a class="headerlink" href="#settings" title="Link to this heading">¶</a></h2>
<p>A few <a class="reference internal" href="../../ref/settings.html#settings-sessions"><span class="std std-ref">GingerDJ settings</span></a> give you control over session
behavior:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_CACHE_ALIAS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_CACHE_ALIAS</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_AGE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_AGE</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_DOMAIN"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_DOMAIN</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_HTTPONLY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_HTTPONLY</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_NAME"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_NAME</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_PATH"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_PATH</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_SAMESITE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_SAMESITE</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_SECURE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_SECURE</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_ENGINE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_ENGINE</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_EXPIRE_AT_BROWSER_CLOSE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_EXPIRE_AT_BROWSER_CLOSE</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_FILE_PATH"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_FILE_PATH</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_SAVE_EVERY_REQUEST"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_SAVE_EVERY_REQUEST</span></code></a></p></li>
<li><p><a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_SERIALIZER"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_SERIALIZER</span></code></a></p></li>
</ul>
</section>
<section id="s-session-security">
<span id="s-topics-session-security"></span><span id="session-security"></span><span id="topics-session-security"></span><h2>Session security<a class="headerlink" href="#session-security" title="Link to this heading">¶</a></h2>
<p>Subdomains within a site are able to set cookies on the client for the whole
domain. This makes session fixation possible if cookies are permitted from
subdomains not controlled by trusted users.</p>
<p>For example, an attacker could log into <code class="docutils literal notranslate"><span class="pre">good.example.com</span></code> and get a valid
session for their account. If the attacker has control over <code class="docutils literal notranslate"><span class="pre">bad.example.com</span></code>,
they can use it to send their session key to you since a subdomain is permitted
to set cookies on <code class="docutils literal notranslate"><span class="pre">*.example.com</span></code>. When you visit <code class="docutils literal notranslate"><span class="pre">good.example.com</span></code>,
you’ll be logged in as the attacker and might inadvertently enter your
sensitive personal data (e.g. credit card info) into the attacker’s account.</p>
<p>Another possible attack would be if <code class="docutils literal notranslate"><span class="pre">good.example.com</span></code> sets its
<a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_COOKIE_DOMAIN"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_DOMAIN</span></code></a> to <code class="docutils literal notranslate"><span class="pre">&quot;example.com&quot;</span></code> which would cause
session cookies from that site to be sent to <code class="docutils literal notranslate"><span class="pre">bad.example.com</span></code>.</p>
</section>
<section id="s-technical-details">
<span id="technical-details"></span><h2>Technical details<a class="headerlink" href="#technical-details" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>The session dictionary accepts any <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.13)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> serializable value when using
<a class="reference internal" href="#gingerdj.contrib.sessions.serializers.JSONSerializer" title="gingerdj.contrib.sessions.serializers.JSONSerializer"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONSerializer</span></code></a>.</p></li>
<li><p>Session data is stored in a database table named <code class="docutils literal notranslate"><span class="pre">ginger_session</span></code> .</p></li>
<li><p>GingerDJ only sends a cookie if it needs to. If you don’t set any session
data, it won’t send a session cookie.</p></li>
</ul>
<section id="s-the-sessionstore-object">
<span id="the-sessionstore-object"></span><h3>The <code class="docutils literal notranslate"><span class="pre">SessionStore</span></code> object<a class="headerlink" href="#the-sessionstore-object" title="Link to this heading">¶</a></h3>
<p>When working with sessions internally, GingerDJ uses a session store object from
the corresponding session engine. By convention, the session store object class
is named <code class="docutils literal notranslate"><span class="pre">SessionStore</span></code> and is located in the module designated by
<a class="reference internal" href="../../ref/settings.html#std-setting-SESSION_ENGINE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_ENGINE</span></code></a>.</p>
<p>All <code class="docutils literal notranslate"><span class="pre">SessionStore</span></code> subclasses available in GingerDJ implement the following
data manipulation methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">exists()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">save()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delete()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">load()</span></code></p></li>
<li><p><a class="reference internal" href="#gingerdj.contrib.sessions.backends.base.SessionBase.clear_expired" title="gingerdj.contrib.sessions.backends.base.SessionBase.clear_expired"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear_expired()</span></code></a></p></li>
</ul>
<p>An asynchronous interface for these methods is provided by wrapping them with
<code class="docutils literal notranslate"><span class="pre">sync_to_async()</span></code>. They can be implemented directly if an async-native
implementation is available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">aexists()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">acreate()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">asave()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">adelete()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aload()</span></code></p></li>
<li><p><a class="reference internal" href="#gingerdj.contrib.sessions.backends.base.SessionBase.aclear_expired" title="gingerdj.contrib.sessions.backends.base.SessionBase.aclear_expired"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aclear_expired()</span></code></a></p></li>
</ul>
<p>In order to build a custom session engine or to customize an existing one, you
may create a new class inheriting from <a class="reference internal" href="#gingerdj.contrib.sessions.backends.base.SessionBase" title="gingerdj.contrib.sessions.backends.base.SessionBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionBase</span></code></a> or
any other existing <code class="docutils literal notranslate"><span class="pre">SessionStore</span></code> class.</p>
<p>You can extend the session engines, but doing so with database-backed session
engines generally requires some extra effort (see the next section for
details).</p>
<div class="versionchanged">
<span class="title">Changed in GingerDJ Development version:</span> <p><code class="docutils literal notranslate"><span class="pre">aexists()</span></code>, <code class="docutils literal notranslate"><span class="pre">acreate()</span></code>, <code class="docutils literal notranslate"><span class="pre">asave()</span></code>, <code class="docutils literal notranslate"><span class="pre">adelete()</span></code>, <code class="docutils literal notranslate"><span class="pre">aload()</span></code>, and
<code class="docutils literal notranslate"><span class="pre">aclear_expired()</span></code> methods were added.</p>
</div>
</section>
</section>
<section id="s-extending-database-backed-session-engines">
<span id="s-id3"></span><span id="extending-database-backed-session-engines"></span><span id="id3"></span><h2>Extending database-backed session engines<a class="headerlink" href="#extending-database-backed-session-engines" title="Link to this heading">¶</a></h2>
<p>Creating a custom database-backed session engine built upon those included in
GingerDJ (namely <code class="docutils literal notranslate"><span class="pre">db</span></code> and <code class="docutils literal notranslate"><span class="pre">cached_db</span></code>) may be done by inheriting
<a class="reference internal" href="#gingerdj.contrib.sessions.base_session.AbstractBaseSession" title="gingerdj.contrib.sessions.base_session.AbstractBaseSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractBaseSession</span></code></a> and either <code class="docutils literal notranslate"><span class="pre">SessionStore</span></code> class.</p>
<p><code class="docutils literal notranslate"><span class="pre">AbstractBaseSession</span></code> and <code class="docutils literal notranslate"><span class="pre">BaseSessionManager</span></code> are importable from
<code class="docutils literal notranslate"><span class="pre">gingerdj.contrib.sessions.base_session</span></code> so that they can be imported without
including <code class="docutils literal notranslate"><span class="pre">gingerdj.contrib.sessions</span></code> in <a class="reference internal" href="../../ref/settings.html#std-setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.base_session.AbstractBaseSession">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">base_session.</span></span><span class="sig-name descname"><span class="pre">AbstractBaseSession</span></span><a class="headerlink" href="#gingerdj.contrib.sessions.base_session.AbstractBaseSession" title="Link to this definition">¶</a></dt>
<dd><p>The abstract base session model.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.base_session.AbstractBaseSession.session_key">
<span class="sig-name descname"><span class="pre">session_key</span></span><a class="headerlink" href="#gingerdj.contrib.sessions.base_session.AbstractBaseSession.session_key" title="Link to this definition">¶</a></dt>
<dd><p>Primary key. The field itself may contain up to 40 characters. The
current implementation generates a 32-character string (a random
sequence of digits and lowercase ASCII letters).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.base_session.AbstractBaseSession.session_data">
<span class="sig-name descname"><span class="pre">session_data</span></span><a class="headerlink" href="#gingerdj.contrib.sessions.base_session.AbstractBaseSession.session_data" title="Link to this definition">¶</a></dt>
<dd><p>A string containing an encoded and serialized session dictionary.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.base_session.AbstractBaseSession.expire_date">
<span class="sig-name descname"><span class="pre">expire_date</span></span><a class="headerlink" href="#gingerdj.contrib.sessions.base_session.AbstractBaseSession.expire_date" title="Link to this definition">¶</a></dt>
<dd><p>A datetime designating when the session expires.</p>
<p>Expired sessions are not available to a user, however, they may still
be stored in the database until the <a class="reference internal" href="../../ref/gingerdj-admin.html#gingerdj-admin-clearsessions"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">clearsessions</span></code></a> management
command is run.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.base_session.AbstractBaseSession.get_session_store_class">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_session_store_class</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.base_session.AbstractBaseSession.get_session_store_class" title="Link to this definition">¶</a></dt>
<dd><p>Returns a session store class to be used with this session model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.base_session.AbstractBaseSession.get_decoded">
<span class="sig-name descname"><span class="pre">get_decoded</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.base_session.AbstractBaseSession.get_decoded" title="Link to this definition">¶</a></dt>
<dd><p>Returns decoded session data.</p>
<p>Decoding is performed by the session store class.</p>
</dd></dl>

</dd></dl>

<p>You can also customize the model manager by subclassing
<a class="reference internal" href="#gingerdj.contrib.sessions.base_session.BaseSessionManager" title="gingerdj.contrib.sessions.base_session.BaseSessionManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSessionManager</span></code></a>:</p>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.base_session.BaseSessionManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">base_session.</span></span><span class="sig-name descname"><span class="pre">BaseSessionManager</span></span><a class="headerlink" href="#gingerdj.contrib.sessions.base_session.BaseSessionManager" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.base_session.BaseSessionManager.encode">
<span class="sig-name descname"><span class="pre">encode</span></span>(<em class="sig-param"><span class="n"><span class="pre">session_dict</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.base_session.BaseSessionManager.encode" title="Link to this definition">¶</a></dt>
<dd><p>Returns the given session dictionary serialized and encoded as a string.</p>
<p>Encoding is performed by the session store class tied to a model class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.base_session.BaseSessionManager.save">
<span class="sig-name descname"><span class="pre">save</span></span>(<em class="sig-param"><span class="n"><span class="pre">session_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expire_date</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.base_session.BaseSessionManager.save" title="Link to this definition">¶</a></dt>
<dd><p>Saves session data for a provided session key, or deletes the session
in case the data is empty.</p>
</dd></dl>

</dd></dl>

<p>Customization of <code class="docutils literal notranslate"><span class="pre">SessionStore</span></code> classes is achieved by overriding methods
and properties described below:</p>
<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.db.SessionStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">backends.db.</span></span><span class="sig-name descname"><span class="pre">SessionStore</span></span><a class="headerlink" href="#gingerdj.contrib.sessions.backends.db.SessionStore" title="Link to this definition">¶</a></dt>
<dd><p>Implements database-backed session store.</p>
<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.db.SessionStore.get_model_class">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_model_class</span></span>()<a class="headerlink" href="#gingerdj.contrib.sessions.backends.db.SessionStore.get_model_class" title="Link to this definition">¶</a></dt>
<dd><p>Override this method to return a custom session model if you need one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.db.SessionStore.create_model_instance">
<span class="sig-name descname"><span class="pre">create_model_instance</span></span>(<em class="sig-param"><span class="n"><span class="pre">data</span></span></em>)<a class="headerlink" href="#gingerdj.contrib.sessions.backends.db.SessionStore.create_model_instance" title="Link to this definition">¶</a></dt>
<dd><p>Returns a new instance of the session model object, which represents
the current session state.</p>
<p>Overriding this method provides the ability to modify session model
data before it’s saved to database.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.cached_db.SessionStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">backends.cached_db.</span></span><span class="sig-name descname"><span class="pre">SessionStore</span></span><a class="headerlink" href="#gingerdj.contrib.sessions.backends.cached_db.SessionStore" title="Link to this definition">¶</a></dt>
<dd><p>Implements cached database-backed session store.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gingerdj.contrib.sessions.backends.cached_db.SessionStore.cache_key_prefix">
<span class="sig-name descname"><span class="pre">cache_key_prefix</span></span><a class="headerlink" href="#gingerdj.contrib.sessions.backends.cached_db.SessionStore.cache_key_prefix" title="Link to this definition">¶</a></dt>
<dd><p>A prefix added to a session key to build a cache key string.</p>
</dd></dl>

</dd></dl>

<section id="s-example">
<span id="example"></span><h3>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h3>
<p>The example below shows a custom database-backed session engine that includes
an additional database column to store an account ID (thus providing an option
to query the database for all active sessions for an account):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gingerdj.contrib.sessions.backends.db</span> <span class="kn">import</span> <span class="n">SessionStore</span> <span class="k">as</span> <span class="n">DBStore</span>
<span class="kn">from</span> <span class="nn">gingerdj.contrib.sessions.base_session</span> <span class="kn">import</span> <span class="n">AbstractBaseSession</span>
<span class="kn">from</span> <span class="nn">gingerdj.db</span> <span class="kn">import</span> <span class="n">models</span>


<span class="k">class</span> <span class="nc">CustomSession</span><span class="p">(</span><span class="n">AbstractBaseSession</span><span class="p">):</span>
    <span class="n">account_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">db_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_session_store_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">SessionStore</span>


<span class="k">class</span> <span class="nc">SessionStore</span><span class="p">(</span><span class="n">DBStore</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_model_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CustomSession</span>

    <span class="k">def</span> <span class="nf">create_model_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">create_model_instance</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">account_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_auth_user_id&quot;</span><span class="p">))</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">account_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">account_id</span> <span class="o">=</span> <span class="n">account_id</span>
        <span class="k">return</span> <span class="n">obj</span>
</pre></div>
</div>
<p>If you are migrating from the GingerDJ’s built-in <code class="docutils literal notranslate"><span class="pre">cached_db</span></code> session store to
a custom one based on <code class="docutils literal notranslate"><span class="pre">cached_db</span></code>, you should override the cache key prefix
in order to prevent a namespace clash:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SessionStore</span><span class="p">(</span><span class="n">CachedDBStore</span><span class="p">):</span>
    <span class="n">cache_key_prefix</span> <span class="o">=</span> <span class="s2">&quot;mysessions.custom_cached_db_backend&quot;</span>

    <span class="c1"># ...</span>
</pre></div>
</div>
</section>
</section>
<section id="s-session-ids-in-urls">
<span id="session-ids-in-urls"></span><h2>Session IDs in URLs<a class="headerlink" href="#session-ids-in-urls" title="Link to this heading">¶</a></h2>
<p>The GingerDJ sessions framework is entirely, and solely, cookie-based. It does
not fall back to putting session IDs in URLs as a last resort, as PHP does.
This is an intentional design decision. Not only does that behavior make URLs
ugly, it makes your site vulnerable to session-ID theft via the “Referer”
header.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../forms/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Working with forms</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="middleware.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Middleware</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Ginger Society and contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Nov 21, 2024</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">How to use sessions</a><ul>
<li><a class="reference internal" href="#enabling-sessions">Enabling sessions</a></li>
<li><a class="reference internal" href="#configuring-the-session-engine">Configuring the session engine</a><ul>
<li><a class="reference internal" href="#using-database-backed-sessions">Using database-backed sessions</a></li>
<li><a class="reference internal" href="#using-cached-sessions">Using cached sessions</a></li>
<li><a class="reference internal" href="#using-file-based-sessions">Using file-based sessions</a></li>
<li><a class="reference internal" href="#using-cookie-based-sessions">Using cookie-based sessions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-sessions-in-views">Using sessions in views</a><ul>
<li><a class="reference internal" href="#session-serialization">Session serialization</a><ul>
<li><a class="reference internal" href="#bundled-serializers">Bundled serializers</a></li>
<li><a class="reference internal" href="#write-your-own-serializer">Write your own serializer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-object-guidelines">Session object guidelines</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-test-cookies">Setting test cookies</a></li>
<li><a class="reference internal" href="#using-sessions-out-of-views">Using sessions out of views</a></li>
<li><a class="reference internal" href="#when-sessions-are-saved">When sessions are saved</a></li>
<li><a class="reference internal" href="#browser-length-sessions-vs-persistent-sessions">Browser-length sessions vs. persistent sessions</a></li>
<li><a class="reference internal" href="#clearing-the-session-store">Clearing the session store</a></li>
<li><a class="reference internal" href="#settings">Settings</a></li>
<li><a class="reference internal" href="#session-security">Session security</a></li>
<li><a class="reference internal" href="#technical-details">Technical details</a><ul>
<li><a class="reference internal" href="#the-sessionstore-object">The <code class="docutils literal notranslate"><span class="pre">SessionStore</span></code> object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extending-database-backed-session-engines">Extending database-backed session engines</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-ids-in-urls">Session IDs in URLs</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=c5a15dbd"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>