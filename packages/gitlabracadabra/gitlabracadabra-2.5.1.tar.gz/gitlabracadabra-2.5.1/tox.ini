[tox]
#envlist = py27, py34, py35, py36, pypy, jython
envlist = py3, pep8, mypy

[testenv]
deps = -r requirements.txt
       -r test-requirements.txt
commands =
    pytest --cov

[testenv:pep8]
deps = -r requirements.txt
       -r pep8-requirements.txt
commands = flake8

[testenv:mypy]
deps = -r requirements.txt
       -r mypy-requirements.txt
commands = mypy gitlabracadabra

[coverage:run]
branch = True

[coverage:report]
show_missing = True
skip_covered = True

[flake8]
format = wemake
max-line-length = 120
extend-exclude = .git,.venv,.tox,dist,doc,*egg,build,venv,node_modules
# D100 Missing docstring in public module
# D104 Missing docstring in public package
# W504 line break after binary operator
# WPS211 Found too many arguments
# WPS214 Found too many methods
# WPS323 Found `%` string formatting
ignore =
    D100
    D104
    W504
    WPS211
    WPS214
    WPS323
# D101 Missing docstring in public class
# D102 Missing docstring in public method
# D103 Missing docstring in public function
# D107 Missing docstring in __init__
# E800: Found commented out code
# WPS1 Naming
# WPS2 Complexity
# WPS3 Consistency
# WPS4 Best practices
# WPS5 Refactoring
# WPS6 OOP
per-file-ignores=
    gitlabracadabra/__init__.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/cli.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/containers/manifest.py:WPS226
    gitlabracadabra/containers/authenticated_session.py:WPS201
    gitlabracadabra/containers/with_digest.py:WPS201
    gitlabracadabra/dictutils.py:WPS110,WPS204,WPS231,WPS232,WPS529
    gitlabracadabra/mixins/__init__.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/boards.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/groups.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/labels.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/members.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/milestones.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/pipeline_schedules.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/protected_branches.py:WPS210,WPS231
    gitlabracadabra/mixins/rename_branches.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/variables.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/webhooks.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/__init__.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/application_settings.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/group.py:D101,D102,D103,D107,E800,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/object.py:D101,D102,D103,D107,E800,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/project.py:D101,E800,WPS111,WPS115,WPS201,WPS210,WPS215,WPS220,WPS226,WPS231,WPS232,WPS315,WPS317,WPS318,WPS319,WPS326,WPS342,WPS420,WPS421,WPS428,WPS432,WPS440,WPS462,WPS510,WPS529
    gitlabracadabra/objects/user.py:D101,E800,WPS115,WPS226,WPS428,WPS462
    gitlabracadabra/packages/pip.py:D205,D400,DAR101,DAR201,DAR401,P101,Q000,RST399,WPS111
    gitlabracadabra/packages/pypi.py:WPS201
    gitlabracadabra/parser.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/__init__.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/patchfuncs.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/__init__.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/**:E501,S311,WPS226,WPS432
    gitlabracadabra/tests/unit/test_application_settings.py:D101,D102,D103,D107,E800,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_blob.py:D101,D102
    gitlabracadabra/tests/unit/test_cli.py:E501,S101,WPS220
    gitlabracadabra/tests/unit/test_gitlab_connections.py:WPS220
    gitlabracadabra/tests/unit/test_group_boards.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_group.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_matchers.py:WPS204,WPS226
    gitlabracadabra/tests/unit/test_parser.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_project_boards.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_project_mirror.py:D101,D102,WPS204,WPS210,WPS221,WPS226
    gitlabracadabra/tests/unit/test_project_rename_branches.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_project.py:D101,D102,D103,D107,E800,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_project_image_mirrors.py:E501,WPS226
    gitlabracadabra/tests/unit/test_project_mirrors.py:WPS206
    gitlabracadabra/tests/unit/test_protected_branches.py:E800,WPS226
    gitlabracadabra/tests/unit/test_registry.py:D101,D102,WPS201,WPS432
    gitlabracadabra/tests/unit/test_registries.py:D101,D102
    gitlabracadabra/tests/unit/test_user.py:D101,D102,WPS110,WPS226
    gitlabracadabra/tests/vcrfuncs.py:D101,D102,D103,D107,S101,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    setup.py:WPS609

show-source = true
enable-extensions=G
application-import-names = gitlabracadabra
max-try-body-length = 2

[isort]
line_length = 120
sections = FUTURE,STDLIB,GITLAB,THIRDPARTY,FIRSTPARTY,LOCALFOLDER
known_gitlab = gitlab
known_first_party = gitlabracadabra
default_section = THIRDPARTY
multi_line_output = 3
include_trailing_comma = true
lines_after_imports = 2
combine_as_imports = true
