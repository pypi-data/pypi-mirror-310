[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[project]
name = "struphy"
version = "2.3.3"
readme = "README.md"
requires-python = ">=3.10, <3.12"
license = {file = "LICENSE"}
authors = [
  { name = "Max Planck Institute for Plasma Physics"},
  { email = "stefan.possanner@ipp.mpg.de"},
  { email = "eric.sonnendruecker@ipp.mpg.de"}
]
description = "Multi-model plasma physics package"
keywords = ["plasma physics, fusion, numerical modeling, partial differential equations, energetic particles"]
classifiers = [
    "Programming Language :: Python :: 3",
    ]
dependencies = [
    'PyYAML==6.0.1',
    'add-trailing-comma==3.1.0',
    'argcomplete==3.4.0',
    'autopep8==2.3.1',
    'desc-opt==0.12.0',
    'docutils==0.21.2',
    'flake8==7.1.1',
    'gvec-to-python==1.2.2',
    'h5py==3.11.0',
    'ipyparallel==8.8.0',
    'isort==5.13.2',
    'lxml_html_clean==0.1.1',
    'm2r2==0.3.3.post2',
    'matplotlib==3.9.0',
    'mistune==0.8.4',
    'mpi4py==3.1.6',
    'myst-parser==3.0.1',
    'nbsphinx==0.9.4',
    'netCDF4==1.6.5',
    'notebook==7.2.1',
    'numpy==1.24.4',
    'pre_commit==4.0.1',
    'pyccel==1.12.1',
    'pydata-sphinx-theme==0.15.3',
    'pylint==3.3.1',
    'pytest==8.2.2',
    'pytest-monitor==1.6.6',
    'pytest-mpi==0.6',
    'scipy==1.13.1',
    'Sphinx==7.3.7',
    'sphinxcontrib-napoleon==0.7',
    'tqdm==4.66.4',
    'vtk==9.3.0',
    'wheel==0.43.0',
]

[project.urls]
homepage = "https://struphy.pages.mpcdf.de/struphy/"
documentation = "https://struphy.pages.mpcdf.de/struphy/"
repository = "https://gitlab.mpcdf.mpg.de/struphy/struphy"
changelog = "https://gitlab.mpcdf.mpg.de/struphy/struphy/-/blob/devel/CHANGELOG.md"
"Bug Tracker" = "https://gitlab.mpcdf.mpg.de/struphy/struphy/-/issues"

[project.scripts]
struphy = "struphy.console.main:struphy"

[tool.setuptools.package-data]
'struphy.fields_background.mhd_equil.eqdsk' = [
            'data/*.high',
        ]

'struphy.fields_background.mhd_equil.gvec' = [
            'ellipstell_v2/newBC_E1D6_M6N6/*.dat',
            'ellipstell_v2/newBC_E1D6_M6N6/*.ini',
            'ellipstell_v2/newBC_E4D6_M6N6/*.dat',
            'ellipstell_v2/newBC_E4D6_M6N6/*.ini',
            'ellipstell_v2/oldBC_E40D5M6N6/*.dat',
            'ellipstell_v2/oldBC_E40D5M6N6/*.ini',
        ]

'struphy.io' = ['batch/*.sh']

'struphy.io.inp' = ['parameters.yml',
                    'tests/*.yml',
                    'tutorials/*.yml',
                    'longer_examples/*.yml',
                    ]
                    
struphy = ['compile_struphy.mk',
           'psydac-0.1.13-py3-none-any.whl',
           ]

[tool.autopep8]
# Add specific settings for autopep8
max_line_length = 120
ignore = ["E221,E226,E203,E265,E731,E711"]
# Descriptions of error codes: https://www.flake8rules.com/
# E201 – Whitespace after  (, [ or {
# E202 – Whitespace before (, [ or {
# E221 – Multiple spaces before operator
# E226 – Missing whitespace around arithmetic operators
# E265 - Block comment should start with '# '
# E266 – Too many leading # for block comment
# E731 – Do not assign a lambda expression
# E203 – Whitespace before : (used in slicing)
# E711 - Ignore enforcing 'is not None' over '!= None'

[tool.isort]
# Configuration for isort
profile = "black"  # Using the Black profile to match formatting styles
line_length = 120
multi_line_output = 3  # Control how isort wraps imports
include_trailing_comma = true
force_grid_wrap = 0
combine_as_imports = true

[tool.pylint]
max-line-length=120