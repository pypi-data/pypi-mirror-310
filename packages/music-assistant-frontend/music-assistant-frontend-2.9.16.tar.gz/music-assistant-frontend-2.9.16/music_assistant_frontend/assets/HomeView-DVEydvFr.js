import{C as A}from"./Container-DzPH7nZE.js";import{d as f,o as V,l as h,c as r,e as _,w as l,Z as L,u as c,an as M,V as $,h as m,f as d,g as k,t as g,a0 as S,F as C,i as R,M as w,j as T,U as b,s as n,b as o,r as P,ao as B,ap as F,K as H,aq as D}from"./index-daC-2ZJk.js";import{P as E}from"./PanelviewItemCompact-beLhgDv9.js";import{c as v,s as O}from"./VCheckbox-09hulYIT.js";import{w as N,z as U}from"./VListItem-pK5S0aIW.js";import{V as W,T as j}from"./Toolbar-Dhk3Ksr9.js";import{V as q}from"./VToolbar-Cf2te3zf.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css              */import"./VCard-mAz7Y-VQ.js";import"./VCardText-Ci9lya7y.js";import"./VMenu-DVqF3YlC.js";import"./eventbus-B1FqU8Ma.js";import"./VCheckboxBtn-jt6ftUKR.js";import"./VList-8n21ZlQT.js";const z=f({__name:"Carousel",setup(y){return V(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(s,p)=>{const t=h("swiper");return r(),_(t,{"slides-per-view":c(M)(s.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!c($)({breakpoint:"mobile"}),mousewheel:{forceToAxis:!0,releaseOnEdges:!0}},{default:l(()=>[L(s.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),K={key:0,class:"widget-row"},Z={class:"mr-3"},G={key:1,class:"mr-3"},J=f({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(y){const s=function(e,a,u){const i=Array.isArray(e)?e:[e];O(i,void 0,a,u)},p=function(e,a,u){if(!v(e)){s(e,a,u);return}e.media_type==w.FOLDER?b.push({name:"browse",query:{path:e.path}}):b.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}})},t=function(e,a,u){if(!v(e)){s(e,a,u);return}if(!n.activePlayerId){n.showPlayersMenu=!0;return}o.playMedia(e.uri,void 0)};return(e,a)=>{const u=h("swiper-slide");return e.widgetRow.items.length?(r(),m("div",K,[d(q,{class:"header",color:"transparent",style:S(e.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:a[0]||(a[0]=i=>e.widgetRow.path?e.$router.push(e.widgetRow.path):"")},{prepend:l(()=>[d(N,{icon:e.widgetRow.icon},null,8,["icon"])]),title:l(()=>[e.widgetRow.count?(r(),_(W,{key:0,inline:"",color:"grey",content:e.widgetRow.count},{default:l(()=>[k("span",Z,g(e.$t(e.widgetRow.label)),1)]),_:1},8,["content"])):(r(),m("span",G,g(e.$t(e.widgetRow.label)),1))]),_:1},8,["style"]),d(z,null,{default:l(()=>[(r(!0),m(C,null,R(e.widgetRow.items,i=>(r(),_(u,{key:i.uri},{default:l(()=>[d(E,{item:i,"permanent-overlay":![c(w).ALBUM,c(w).TRACK,c(w).RADIO].includes(i.media_type),"is-available":c(v)(i),onMenu:s,onClick:p,onPlay:t},null,8,["item","permanent-overlay","is-available"])]),_:2},1024))),128))]),_:1})])):T("",!0)}}}),Q=I(J,[["__scopeId","data-v-b13744f6"]]),X=f({__name:"HomeWidgetRows",async setup(y){let s,p;const t=P({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}}),e=async function(){t.value.recently_played.items=await o.getRecentlyPlayedItems(10),t.value.artists.items=await o.getLibraryArtists(void 0,void 0,20,void 0,"random"),t.value.artists.count=n.libraryArtistsCount,t.value.albums.items=await o.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.albums.count=n.libraryAlbumsCount,t.value.playlists.items=await o.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.playlists.count=n.libraryPlaylistsCount,t.value.radios.items=await o.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.radios.count=n.libraryRadiosCount,t.value.tracks.items=await o.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.tracks.count=n.libraryTracksCount};return[s,p]=B(()=>e()),await s,p(),F(()=>{e()}),(a,u)=>(r(!0),m(C,null,R(t.value,i=>(r(),m("div",{key:i.label},[d(Q,{"widget-row":i},null,8,["widget-row"])]))),128))}}),Y=f({__name:"HomeView",props:{player:{}},setup(y){const s=y,p=P(localStorage.getItem("frontend.settings.hide_settings")=="true"),t=new URLSearchParams(window.location.search);return console.log(t.toString()),H(()=>s.player,e=>{if(console.error("props.player",e),!(!e||e=="false")){if(typeof e=="string"){if(e in o.players)n.activePlayerId=o.players[e].player_id;else for(const a of Object.values(o.players))if(a.display_name.toLowerCase()===e.toLowerCase()){n.activePlayerId=a.player_id;break}}n.showFullscreenPlayer=!0}},{immediate:!0}),(e,a)=>(r(),m("div",null,[d(j,{title:"Music Assistant","show-loading":!0,"menu-items":p.value?[]:[{label:"settings.settings",icon:"mdi-cog-outline",action:()=>{e.$router.push({path:"settings"})}}]},null,8,["menu-items"]),d(A,{variant:"panel"},{default:l(()=>[(r(),_(D,null,{fallback:l(()=>[d(U,{indeterminate:""})]),default:l(()=>[k("div",null,[d(X)])]),_:1}))]),_:1})]))}}),ye=I(Y,[["__scopeId","data-v-efe9c45c"]]);export{ye as default};
